(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[64808,79801,38202,75170,91044],{263116:(e,t,n)=>{n.d(t,{ZP:()=>P,TA:()=>I});var o=n(667294);function i(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=n(659864),l=n(108679),d=n.n(l);function c(e,t){if(!e){var n=new Error("loadable: "+t);throw n.framesToPop=1,n.name="Invariant Violation",n}}function u(e){console.warn("loadable: "+e)}var h=o.createContext();function p(e){return e+"__LOADABLE_REQUIRED_CHUNKS__"}var m={initialChunks:{}},g="PENDING",f="REJECTED";var x=function(e){return e};function b(e){var t=e.defaultResolveComponent,n=void 0===t?x:t,l=e.render,u=e.onLoad;function p(e,t){void 0===t&&(t={});var p=function(e){return"function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e}(e),x={};function b(e){return t.cacheKey?t.cacheKey(e):p.resolve?p.resolve(e):"static"}function y(e,o,i){var r=t.resolveComponent?t.resolveComponent(e,o):n(e);if(t.resolveComponent&&!(0,a.isValidElementType)(r))throw new Error("resolveComponent returned something that is not a React component!");return d()(i,r,{preload:!0}),r}var v,j=function(e){var n,o;function a(n){var o;return(o=e.call(this,n)||this).state={result:null,error:null,loading:!0,cacheKey:b(n)},c(!n.__chunkExtractor||p.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),n.__chunkExtractor?(!1===t.ssr||(p.requireAsync(n).catch((function(){return null})),o.loadSync(),n.__chunkExtractor.addChunk(p.chunkName(n))),s(o)):(!1!==t.ssr&&(p.isReady&&p.isReady(n)||p.chunkName&&m.initialChunks[p.chunkName(n)])&&o.loadSync(),o)}o=e,(n=a).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o,a.getDerivedStateFromProps=function(e,t){var n=b(e);return r({},t,{cacheKey:n,loading:t.loading||t.cacheKey!==n})};var d=a.prototype;return d.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===f&&this.setCache(),this.state.loading&&this.loadAsync()},d.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},d.componentWillUnmount=function(){this.mounted=!1},d.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},d.getCacheKey=function(){return b(this.props)},d.getCache=function(){return x[this.getCacheKey()]},d.setCache=function(e){void 0===e&&(e=void 0),x[this.getCacheKey()]=e},d.triggerOnLoad=function(){var e=this;u&&setTimeout((function(){u(e.state.result,e.props)}))},d.loadSync=function(){if(this.state.loading)try{var e=y(p.requireSync(this.props),this.props,w);this.state.result=e,this.state.loading=!1}catch(t){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:p.resolve(this.props),chunkName:p.chunkName(this.props),error:t?t.message:t}),this.state.error=t}},d.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then((function(t){var n=y(t,e.props,{Loadable:w});e.safeSetState({result:n,loading:!1},(function(){return e.triggerOnLoad()}))})).catch((function(t){return e.safeSetState({error:t,loading:!1})})),t},d.resolveAsync=function(){var e=this,t=this.props,n=(t.__chunkExtractor,t.forwardedRef,i(t,["__chunkExtractor","forwardedRef"])),o=this.getCache();return o||((o=p.requireAsync(n)).status=g,this.setCache(o),o.then((function(){o.status="RESOLVED"}),(function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:p.resolve(e.props),chunkName:p.chunkName(e.props),error:t?t.message:t}),o.status=f}))),o},d.render=function(){var e=this.props,n=e.forwardedRef,o=e.fallback,s=(e.__chunkExtractor,i(e,["forwardedRef","fallback","__chunkExtractor"])),a=this.state,d=a.error,c=a.loading,u=a.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===g)throw this.loadAsync();if(d)throw d;var h=o||t.fallback||null;return c?h:l({fallback:h,result:u,options:t,props:r({},s,{ref:n})})},a}(o.Component),_=(v=j,function(e){return o.createElement(h.Consumer,null,(function(t){return o.createElement(v,Object.assign({__chunkExtractor:t},e))}))}),w=o.forwardRef((function(e,t){return o.createElement(_,Object.assign({forwardedRef:t},e))}));return w.preload=function(e){p.requireAsync(e)},w.load=function(e){return p.requireAsync(e)},w}return{loadable:p,lazy:function(e,t){return p(e,r({},t,{suspense:!0}))}}}var y=b({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,n=e.props;return o.createElement(t,n)}}),v=y.loadable,j=y.lazy,_=b({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,n=e.props;return n.children?n.children(t):null}}),w=_.loadable,S=_.lazy,C="undefined"!=typeof window;function I(e,t){void 0===e&&(e=function(){});var n=(void 0===t?{}:t).namespace,o=void 0===n?"":n;if(!C)return u("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var i=null;if(C){var r=p(o),s=document.getElementById(r);if(s){i=JSON.parse(s.textContent);var a=document.getElementById(r+"_ext");if(!a)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(a.textContent).namedChunks.forEach((function(e){m.initialChunks[e]=!0}))}}if(!i)return u("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var l=!1;return new Promise((function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,n=t.push.bind(t);function o(){i.every((function(e){return t.some((function(t){return t[0].indexOf(e)>-1}))}))&&(l||(l=!0,e()))}t.push=function(){n.apply(void 0,arguments),o()},o()})).then(e)}var k=v;k.lib=w,j.lib=S;const P=k},108679:(e,t,n)=>{var o=n(121296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return o.isMemo(e)?s:a[e.$$typeof]||i}a[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[o.Memo]=s;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,o){if("string"!=typeof n){if(m){var i=p(n);i&&i!==m&&e(t,i,o)}var s=c(n);u&&(s=s.concat(u(n)));for(var a=l(t),g=l(n),f=0;f<s.length;++f){var x=s[f];if(!(r[x]||o&&o[x]||g&&g[x]||a&&a[x])){var b=h(n,x);try{d(t,x,b)}catch(y){}}}}return t}},396103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116;function f(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case c:case u:case r:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case d:case h:case l:return e;default:return t}}case g:case m:case i:return t}}}function x(e){return f(e)===u}t.typeOf=f,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=o,t.ForwardRef=h,t.Fragment=r,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===s||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===d||e.$$typeof===h)},t.isAsyncMode=function(e){return x(e)||f(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return f(e)===d},t.isContextProvider=function(e){return f(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return f(e)===h},t.isFragment=function(e){return f(e)===r},t.isLazy=function(e){return f(e)===g},t.isMemo=function(e){return f(e)===m},t.isPortal=function(e){return f(e)===i},t.isProfiler=function(e){return f(e)===a},t.isStrictMode=function(e){return f(e)===s},t.isSuspense=function(e){return f(e)===p}},121296:(e,t,n)=>{e.exports=n(396103)},727418:e=>{var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(i){return!1}}()?Object.assign:function(e,r){for(var s,a,l=i(e),d=1;d<arguments.length;d++){for(var c in s=Object(arguments[d]))n.call(s,c)&&(l[c]=s[c]);if(t){a=t(s);for(var u=0;u<a.length;u++)o.call(s,a[u])&&(l[a[u]]=s[a[u]])}}return l}},869921:(e,t)=>{var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,x=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,v=n?Symbol.for("react.scope"):60119;function j(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case c:case u:case r:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case d:case h:case f:case g:case l:return e;default:return t}}case i:return t}}}function _(e){return j(e)===u}t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=o,t.ForwardRef=h,t.Fragment=r,t.Lazy=f,t.Memo=g,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||j(e)===c},t.isConcurrentMode=_,t.isContextConsumer=function(e){return j(e)===d},t.isContextProvider=function(e){return j(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return j(e)===h},t.isFragment=function(e){return j(e)===r},t.isLazy=function(e){return j(e)===f},t.isMemo=function(e){return j(e)===g},t.isPortal=function(e){return j(e)===i},t.isProfiler=function(e){return j(e)===a},t.isStrictMode=function(e){return j(e)===s},t.isSuspense=function(e){return j(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===a||e===s||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===g||e.$$typeof===l||e.$$typeof===d||e.$$typeof===h||e.$$typeof===b||e.$$typeof===y||e.$$typeof===v||e.$$typeof===x)},t.typeOf=j},659864:(e,t,n)=>{e.exports=n(869921)},442279:(e,t)=>{function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1],n=null,i=null;return function(){for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];return null!==n&&n.length===r.length&&r.every((function(e,o){return t(e,n[o])}))||(i=e.apply(void 0,r)),n=r,i}}function r(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,o=Array(t>1?t-1:0),i=1;i<t;i++)o[i-1]=arguments[i];return function(){for(var t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];var a=0,l=i.pop(),d=r(i),c=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(o)),u=function(e,t){for(var o=arguments.length,i=Array(o>2?o-2:0),r=2;r<o;r++)i[r-2]=arguments[r];var s=d.map((function(n){return n.apply(void 0,[e,t].concat(i))}));return c.apply(void 0,n(s))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?a:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];return t.reduce((function(e,t,o){return e[n[o]]=t,e}),{})}))};var a=t.P1=s(i)},560053:(e,t)=>{var n,o,i,r;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var d=null,c=null,u=function(){if(null!==d)try{var e=t.unstable_now();d(!0,e),d=null}catch(n){throw setTimeout(u,0),n}};n=function(e){null!==d?setTimeout(n,0,e):(d=e,setTimeout(u,0))},o=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},r=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,f=null,x=-1,b=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},r=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<e?Math.floor(1e3/e):5};var v=new MessageChannel,j=v.port2;v.port1.onmessage=function(){if(null!==f){var e=t.unstable_now();y=e+b;try{f(!0,e)?j.postMessage(null):(g=!1,f=null)}catch(n){throw j.postMessage(null),n}}else g=!1},n=function(e){f=e,g||(g=!0,j.postMessage(null))},o=function(e,n){x=h((function(){e(t.unstable_now())}),n)},i=function(){p(x),x=-1}}function _(e,t){var n=e.length;e.push(t);e:for(;;){var o=n-1>>>1,i=e[o];if(!(void 0!==i&&0<C(i,t)))break e;e[o]=t,e[n]=i,n=o}}function w(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var o=0,i=e.length;o<i;){var r=2*(o+1)-1,s=e[r],a=r+1,l=e[a];if(void 0!==s&&0>C(s,n))void 0!==l&&0>C(l,s)?(e[o]=l,e[a]=n,o=a):(e[o]=s,e[r]=n,o=r);else{if(!(void 0!==l&&0>C(l,n)))break e;e[o]=l,e[a]=n,o=a}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],k=[],P=1,T=null,B=3,E=!1,Z=!1,R=!1;function A(e){for(var t=w(k);null!==t;){if(null===t.callback)S(k);else{if(!(t.startTime<=e))break;S(k),t.sortIndex=t.expirationTime,_(I,t)}t=w(k)}}function O(e){if(R=!1,A(e),!Z)if(null!==w(I))Z=!0,n(M);else{var t=w(k);null!==t&&o(O,t.startTime-e)}}function M(e,n){Z=!1,R&&(R=!1,i()),E=!0;var r=B;try{for(A(n),T=w(I);null!==T&&(!(T.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=T.callback;if("function"==typeof s){T.callback=null,B=T.priorityLevel;var a=s(T.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?T.callback=a:T===w(I)&&S(I),A(n)}else S(I);T=w(I)}if(null!==T)var l=!0;else{var d=w(k);null!==d&&o(O,d.startTime-n),l=!1}return l}finally{T=null,B=r,E=!1}}var N=r;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){Z||E||(Z=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return B},t.unstable_getFirstCallbackNode=function(){return w(I)},t.unstable_next=function(e){switch(B){case 1:case 2:case 3:var t=3;break;default:t=B}var n=B;B=t;try{return e()}finally{B=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=N,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=B;B=e;try{return t()}finally{B=n}},t.unstable_scheduleCallback=function(e,r,s){var a=t.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:P++,callback:r,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,_(k,e),null===w(I)&&e===w(k)&&(R?i():R=!0,o(O,s-a))):(e.sortIndex=l,_(I,e),Z||E||(Z=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=B;return function(){var n=B;B=t;try{return e.apply(this,arguments)}finally{B=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},496949:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/[username]/[slug]"]=function(){return n(664145).Z}},796025:(e,t,n)=>{n.d(t,{c:()=>d,Z:()=>u});var o=n(667294),i=n(174523),r=n(946753),s=n(585967),a=n(883119),l=n(785893);const d=48,c=(0,o.forwardRef)(((e,t)=>{const{addButtonRef:n,collaboratorCount:o,nonDisplayedCollaboratorCount:c,displayedCollaborators:u,onClick:h,showAddButton:p}=e,m=(0,i.ZP)(),{isRTL:g}=(0,s.B)(),f=u.map((e=>e.name));let x="";switch(c?"default":f.length){case 3:x=(0,r.Wc)(m._("{{ first }}, {{ second }}, and {{ last }}","BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars","List of three usernames"),{first:`${f[0]}`,second:`${f[1]}`,last:`${f[2]}`});break;case 2:x=(0,r.Wc)(m._("{{ first }} and {{ second }}","BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.TwoAvatars","List of two usernames."),{first:`${f[0]}`,second:`${f[1]}`});break;default:x=f.join(", ")}const b=c?(0,r.Wc)(m.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",c,"BoardAvatarGroup.AvatarGroup.accessibilityLabel.aboveTwoCollaborators","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:x,leftCount:`${c}`}):(0,r.Wc)(m._("Collaborators: {{ userNames }}.","BoardAvatarGroup.AvatarGroup.accessibilityLabel.notAboveTwoCollaborators","Accessibility label that lists the names of collaborators"),{userNames:x}),y=u.length>1?[...u,...Array(c).fill({name:"",src:""})]:u,v=(u.length>1||0===o)&&p,j=m._("Invite collaborators.","BoardAvatarGroup.AvatarGroup.accessibilityLabel.inviteCollaborators","It informs the users that they can invite other collaborators.");return(0,l.jsxs)(a.xu,{position:"relative",rounding:"pill","data-test-id":"user-rep-avatar",children:[v?(0,l.jsx)(a.xu,{height:d,position:"absolute",left:g,ref:n,right:!g,rounding:"circle",top:!0,width:d}):null,(0,l.jsx)(a.HE,{accessibilityLabel:v?`${b} ${j}`:`${b}`,addCollaborators:v,collaborators:y,onClick:h,ref:t,role:"button",size:"md"})]})}));c.displayName="BoardAvatarGroup";const u=c},92849:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(667294),i=n(174523),r=n(302199),s=n(946753),a=n(585967),l=n(796025),d=n(883119),c=n(785893);function u({addButtonRef:e,nonDisplayedCollaboratorCount:t,displayedCollaborators:n,onClick:u,pileRef:h,showAddButton:p}){const[m,g]=(0,o.useState)(!1),f=(0,i.ZP)(),x=(0,r.Z)(),{locale:b}=(0,a.B)(),y=f._("Invite collaborators.","DeprecatedBoardCollaboratorFacepile.accessibilityLabel.inviteCollaborators","It informs the users that they can invite other collaborators."),v=(0,s.Wc)(f.ngettext("Collaborators: {{ userNames }} and {{ leftCount }} more.","Collaborators: {{ userNames }} and {{ leftCount }} more.",t,"DeprecatedBoardCollaboratorFacepile.accessibilityLabel","Accessibility label that lists the names of collaborators and a final count of non-displayed avatars"),{userNames:n.map((e=>e.name)).join(", "),leftCount:`${t}`}),j=({children:e,hovered:t})=>(0,c.jsxs)(d.xu,{position:"relative",children:[(0,c.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:t?{zIndex:1,backgroundColor:"rgba(0,0,0,0.06)"}:{}},left:!0,position:"absolute",right:!0,rounding:"pill",top:!0}),e]}),_=n.map((({name:e,src:t},n)=>(0,c.jsx)(d.xu,{"aria-hidden":"true",marginStart:0!==n?-4:void 0,children:(0,c.jsx)(j,{hovered:m&&!!u,children:(0,c.jsx)(d.xu,{color:"white",height:l.c,width:l.c,rounding:"circle",children:(0,c.jsx)(d.qE,{name:e,outline:!0,src:t})})})},`face-${n}`)));return _.length>1&&t&&_.push((0,c.jsx)(d.xu,{"aria-hidden":"true",zIndex:new d.Ry(1),children:(0,c.jsx)(d.xu,{marginStart:-4,children:(0,c.jsx)(j,{hovered:m&&!!u,children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:(0,c.jsx)(d.xu,{alignItems:"center",color:"lightGray",display:"flex",height:l.c,justifyContent:"center",position:"relative",rounding:"circle",width:l.c,children:(0,c.jsx)(d.xv,{size:"lg",weight:"bold",children:x(b,t,{shortform:!0})})})})})})},"additionalCount")),_.length>1&&p&&_.push((0,c.jsx)(d.xu,{"aria-hidden":"true",ref:e,zIndex:new d.Ry(1),children:(0,c.jsx)(d.xu,{marginStart:-4,children:(0,c.jsx)(j,{hovered:m,children:(0,c.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 0 0 1px #fff"}},rounding:"circle",children:(0,c.jsx)(d.xu,{alignItems:"center",color:"lightGray",display:"flex",height:l.c,justifyContent:"center",rounding:"circle",width:l.c,children:(0,c.jsx)(d.JO,{accessibilityLabel:"Add",icon:"add",color:"darkGray",size:20})})})})})},"addIcon")),(0,c.jsx)(d.kC,{alignItems:"center",children:(0,c.jsx)(d.iP,{accessibilityLabel:p?`${v} ${y}`:`${v}`,ref:h,onTap:u,rounding:"pill",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:(0,c.jsx)(d.kC,{alignItems:"center",justifyContent:"start",children:_})})})}},785078:(e,t,n)=>{n.d(t,{Z:()=>o});const o=({boardCollaboratorCount:e,collaborators:t})=>{const n=e?e+1:t.length,o=n>3,i=t.slice(0,o?2:3);return{displayedCollaborators:i,nonDisplayedCollaboratorCount:o?n-i.length:0}}},742899:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(667294),i=n(419738),r=n(883119),s=n(785893);const a={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};function l({children:e,forwardRef:t,position:n="static",shouldShowShadow:l=!1,top:d}){const{currentScrollPosition:c,isScrolled:u,setSubheaderShadow:h}=(0,i.WQ)();(0,o.useEffect)((()=>(l&&h("contentHeader"),()=>{l&&h(null)})),[l]);let p=!1;"pending"!==d&&(p=null!=d?c>=d:u);const m=(0,s.jsx)(r.xu,{ref:t,dangerouslySetInlineStyle:{__style:{position:n,...p&&l&&{...a,zIndex:499}}},children:e});return"sticky"===n?(0,s.jsx)(r.Le,{top:0,children:m}):m}},852558:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(883119),i=n(785893);function r({action:e,alignCenter:t}){const{title:n,description:r,button:s}=e,a=n&&n.text,l=r&&r.text,d=s&&s.text||"",c=s&&s.link||"";return(0,i.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[!!a&&(0,i.jsx)(o.xv,{align:t?"center":"start",weight:"bold",children:a}),!!l&&(0,i.jsx)(o.xv,{align:t?"center":"start",children:l}),!!(s&&d&&c)&&(0,i.jsx)(o.xu,{paddingY:3,children:(0,i.jsx)(o.zx,{fullWidth:!0,onClick:()=>window.location.replace(c),text:d,color:"white"})})]})}var s=n(500953),a=n(931185),l=n(24309);const d={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},c={backgroundColor:"#DDF3F2",...d},u={backgroundColor:"#21374B",...d};function h({alignCenter:e,notice:t,viewType:n,viewParameter:d,query:h,sensitivity:p}){const{title:m,description:g,actions:f=[]}=t,x=g&&g.text||"",b=function(e,t){const n=[];let r=0;for(let s=0;s<t.length;s+=1){const a=t[s];if(5===a.tag_type&&a.link){const t=e.substring(a.offset,a.offset+a.length),s=(0,i.jsx)(o.rU,{inline:!0,target:"blank",href:a.link,onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:(0,i.jsx)(o.xv,{inline:!0,weight:"bold",children:t})},t);n.push((0,i.jsx)(o.xv,{inline:!0,children:e.substring(r,a.offset)})),n.push(s),r=a.offset+a.length}}return r>0&&n.push((0,i.jsx)(o.xv,{inline:!0,children:e.substring(r)})),0===n.length?[(0,i.jsx)("span",{children:e})]:n}(x,g&&g.text_tags||[]);return(0,s.Z)((()=>{n&&(0,l.j)({event_type:120,view_type:n,component:13367,view_parameter:d,aux_data:{entered_query:h,advisory_details:null==p?void 0:p.advisory_details,advisory_level:null==p?void 0:p.advisory,severity_level:null==p?void 0:p.severity}})})),(0,i.jsxs)(o.xu,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:(0,a.Yc)()?u:c},children:[!!m&&(0,i.jsx)(o.xu,{marginBottom:3,display:"flex",justifyContent:e?"center":void 0,children:(0,i.jsx)(o.X6,{size:"md",children:m})}),!!x&&(0,i.jsx)(o.xu,{marginBottom:4,children:(0,i.jsx)(o.xv,{size:"sm",children:b})}),f.map((t=>(0,i.jsx)(o.xu,{paddingY:f.length>1?2:0,children:(0,i.jsx)(r,{action:t,alignCenter:e})},t.id)))]})}},639218:(e,t,n)=>{n.d(t,{IR:()=>o,Fx:()=>i,Uz:()=>r});const o={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function i(e){return null!=e&&(!!e.notice||!!e.notices&&e.notices.length>0)}function r(e){return!!e&&e.severity===o.ABUSIVE}},999989:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(553431),i=n(883119),r=n(785893);const s=({icon:e,iconLabel:t,message:n,url:s,onTouch:a})=>{const l=(0,r.jsxs)(i.xu,{alignItems:e?"center":void 0,color:"darkGray",display:e?"flex":"inlineBlock",justifyContent:e?"between":void 0,padding:2,rounding:2,children:[(0,r.jsx)(i.xu,{marginEnd:e?2:0,children:(0,r.jsx)(i.xv,{color:"white",overflow:"normal",weight:"bold",children:n})}),e&&t&&(0,r.jsx)(i.xu,{flex:"none",children:(0,r.jsx)(i.JO,{icon:e,color:"white",accessibilityLabel:t,size:32})})]});return(0,r.jsx)(i.xu,{paddingX:2,children:s?(0,r.jsx)(o.Z,{to:s,rounding:2,pressState:"background",onTouch:a,children:l}):l})}},52676:(e,t,n)=>{n.d(t,{Z:()=>C});var o=n(667294),i=n(40142),r=n(883119),s=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.freeze({EASE:"ease",LINEAR:"linear",EASE_IN:"ease-in",EASE_OUT:"ease-out",EASE_IN_OUT:"ease-in-out"});class l extends o.PureComponent{constructor(...e){super(...e),a(this,"state",{isFadingIn:!1}),a(this,"mountStyle",(()=>this.setState({isFadingIn:!0})))}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame(this.mountStyle)}componentWillUnmount(){window.cancelAnimationFrame(this.requestAnimationFrameId)}render(){const{isFadingIn:e}=this.state,{children:t,delay:n,duration:o,style:i,timingFunction:a}=this.props,l={opacity:e?1:0,transitionProperty:"opacity",transitionDuration:o,transitionTimingFunction:a,transitionDelay:n,...i};return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:l},children:t})}}a(l,"defaultProps",{delay:"0ms",style:{}});var d=n(241933),c=n(968807),u=n(711057),h=n(51610),p=n(931185),m=n(799977),g=n(708206),f=n(855168);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const b=[0,0],y=()=>{},v={border:(0,p.Yc)()?void 0:"1px solid #efefef",width:"100vw",zIndex:1,maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,p.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out",WebkitOverflowScrolling:"touch"},j={backgroundColor:"darkGray",height:"100%",touchAction:"none",width:"100%",zIndex:1,opacity:.2,top:0,left:0,position:"fixed"},_={headingOffset:{__style:{marginLeft:-10,marginRight:50}},maskOpen:{__style:{...j,display:"block"}},maskClose:{__style:{...j,display:"none"}},modalOpen:{__style:{...v}},modalClose:{__style:{...v,transform:"translate3d(0px, 100%, 0px)"}}},w={};class S extends o.Component{constructor(e){super(e),x(this,"preventModalScroll",(e=>{e.preventDefault()})),x(this,"addTouchMoveEventListener",(()=>{this.maskRef.current&&!this.maskEventListenerAdded&&(this.maskRef.current.addEventListener("touchmove",this.preventModalScroll,{passive:!1}),this.maskEventListenerAdded=!0)})),x(this,"restoreScrollPosition",(()=>{const{history:e,location:t}=this.props,n="PUSH"===e.action||"REPLACE"===e.action?b:(o=t.key,Object.hasOwnProperty.call(w,o)?w[o]:b);var o;this.modalRef&&this.modalRef.current&&this.modalRef.current.scrollTo(...n)})),this.modalRef=(0,o.createRef)(),this.maskRef=(0,o.createRef)(),this.maskEventListenerAdded=!1}componentDidMount(){const{isOpen:e,setAppFocusState:t}=this.props;e&&(this.pauseImpressions(),t(!1),this.disableBackgroundScrolling())}componentDidUpdate(e){this.addTouchMoveEventListener(),e.location!==this.props.location&&window.requestAnimationFrame(this.restoreScrollPosition)}componentWillUnmount(){const{isOpen:e,setAppFocusState:t}=this.props;e&&(this.resumeImpressions(),t(!0),this.enableBackgroundScrolling())}getSnapshotBeforeUpdate(e){const{history:t,isOpen:n,location:o,setAppFocusState:i}=this.props;return!e.isOpen&&n?(this.pauseImpressions(),i(!1),this.disableBackgroundScrolling()):e.isOpen&&!n&&(this.resumeImpressions(),i(!0),this.enableBackgroundScrolling()),e.location===o||"PUSH"!==t.action||this.saveScrollPosition(e.location),null}getModalStyles(){const{bgOpacity:e,isOpen:t,zIndex:n}=this.props;let o=t?_.modalOpen.__style:_.modalClose.__style;if(n&&(o={...o,zIndex:n}),e>=1)return o;const i={backgroundColor:(0,p.Yc)()?`rgba(0, 0, 0, ${e})`:`rgba(255, 255, 255, ${e})`};return{...o,...i}}saveScrollPosition({key:e}){var t;w[e]=[0,(null!==(t=this.modalRef.current)&&void 0!==t?t:{scrollTop:0}).scrollTop]}enableBackgroundScrolling(){document.body&&(document.body.style.overflow="")}resumeImpressions(){this.props.pauseImpression&&d.ZP.resume()}pauseImpressions(){this.props.pauseImpression&&d.ZP.pause()}disableBackgroundScrolling(){document.body&&(document.body.style.overflow="hidden")}renderModalContent(){const{children:e,isOpen:t,onDismiss:n}=this.props;return(0,s.jsxs)(r.xu,{display:"inlineBlock",children:[(0,s.jsx)(c.Z,{onTouch:n||y,pressState:"none",children:(0,s.jsx)(r.xu,{ref:this.maskRef,dangerouslySetInlineStyle:{__style:t?_.maskOpen.__style:_.maskClose.__style}})}),(0,s.jsx)(r.xu,{ref:this.modalRef,dangerouslySetInlineStyle:{__style:this.getModalStyles()},children:(0,s.jsx)(u.Z.Provider,{value:this.modalRef,children:e})})]})}render(){const{fadeInDelay:e,fadeInDuration:t,allowClickAndDrag:n}=this.props;return(0,s.jsx)(h.Z,{allowClickAndDrag:n,children:(0,s.jsx)(r.mh,{children:t?(0,s.jsx)(l,{delay:e,timingFunction:"ease-out",duration:t,style:{position:"fixed",zIndex:1},children:this.renderModalContent()}):this.renderModalContent()})})}}x(S,"defaultProps",{bgOpacity:1,pauseImpression:!0});const C=(0,g.compose)(f.EN,(0,i.connect)(null,(e=>({setAppFocusState:t=>e((0,m._L)(t))}))))(S)},419738:(e,t,n)=>{n.d(t,{Hv:()=>u,WQ:()=>c});var o=n(667294),i=n(823493),r=n.n(i),s=n(762803),a=n(785893);const{Provider:l,Consumer:d,useHook:c}=(0,s.ZP)("HeaderShadow");function u({children:e}){const[t,n]=(0,o.useState)(!1),[i,s]=(0,o.useState)(!1),[d,c]=(0,o.useState)(0),[u,h]=(0,o.useState)(null),p=r()((()=>{t&&(s(window.scrollY>0),c(window.scrollY))}),50);return(0,o.useEffect)((()=>(n(!0),()=>{n(!1)})),[]),(0,o.useEffect)((()=>(window.addEventListener("scroll",p),()=>{window.removeEventListener("scroll",p)})),[t]),(0,a.jsx)(l,{value:{currentScrollPosition:d,isScrolled:i,setSubheaderShadow:h,subheaderShadow:u},children:e})}},188102:(e,t,n)=>{n.d(t,{x0:()=>Je,i0:()=>et,ZP:()=>tt});var o=n(667294),i=n(40142),r=n(860370),s=n(604547),a=n(549156),l=n(658726),d=n(174523),c=n(302199),u=n(946753),h=n(796821),p=n(585967),m=n(883119),g=n(785893);function f({followerCount:e,isAuthenticated:t,lastModified:n,pinCount:i,isInBoardProfileRepClickableExp:r}){const s=(0,d.ZP)(),f=(0,c.Z)(),x=(0,l.Z)(),{locale:b}=(0,p.B)(),y=(0,h.ml)(),v=!!i&&!t,j=e>5;return(0,g.jsxs)(m.kC,{alignItems:"center",direction:y?"column":"row",justifyContent:"start",children:[(0,g.jsxs)(m.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[v&&(0,g.jsx)(a.Z,{id:"pin-count",children:(0,g.jsx)(m.xv,{children:(0,u.nk)(s.ngettext("{{ pinCount }} Pin","{{ pinCount }} Pins",i,"boardPage.header.attribution.pinCount","Label for the number of pins belonging to a board"),{pinCount:f(b,i,{})})})}),!r&&j&&v&&(0,g.jsx)(m.xu,{paddingX:1,children:(0,g.jsx)(m.xv,{inline:!0,children:"·"})}),!r&&j&&(0,g.jsx)(a.Z,{id:"follower-count",children:(0,g.jsx)(m.xv,{children:(0,u.nk)(s.ngettext("{{ followerCount }} follower","{{ followerCount }} followers",e,"boardPage.header.attribution.followerCount","Label displayingthe number of followers following a board"),{followerCount:f(b,e,{})})})})]}),!r&&!t&&(0,g.jsxs)(o.Fragment,{children:[!y&&(v||j)&&(0,g.jsx)(m.xu,{paddingX:1,children:(0,g.jsx)(m.xv,{inline:!0,children:"·"})}),(0,g.jsx)(m.xu,{alignItems:"center",direction:"row",display:"flex","data-test-id":"last-updated-date",children:(0,g.jsx)(m.xv,{children:(0,u.nk)(s._("Last updated {{ lastModifiedDate }}","boardPage.header.attribution.lastModified","Label displaying how many days ago the board was last modified"),{lastModifiedDate:x(n)})})})]})]})}var x=n(553431),b=n(179676),y=n(24309),v=n(641483);function j({user:e,isInBoardProfileRepClickableExp:t}){var n;const o=null===(n=e.verified_identity)||void 0===n?void 0:n.verified,i=e.is_verified_merchant,r=o||i;return(0,g.jsx)("span",{"data-test-id":"user-rep",children:(0,g.jsx)(x.Z,{inline:!0,pressState:"compress",to:`/${e.username}/`,onClick:()=>{(0,v.LW)({action:"click",page:"board",item:"user-rep"}),(0,y.j)({event_type:102,component:13798,view_parameter:3070})},children:(0,g.jsx)(m.xv,{weight:"bold",children:(0,g.jsxs)(m.xu,{display:"inlineBlock",children:[e.full_name,t&&r&&(0,g.jsx)(m.xu,{"data-test-id":i?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:1,children:(0,g.jsx)(b.Z,{showVerifiedIdentity:o,isVerifiedMerchant:i,size:"md"})})]})})})})}function _({collaborators:e,boardOwnerId:t,collaboratorsAmount:n,isInBoardProfileRepClickableExp:o}){const r=(0,d.ZP)(),s=(0,c.Z)(),{locale:a,userId:l}=(0,i.useSelector)((({session:e})=>e));if(!e.length)return null;const h=[...e.filter((({id:e})=>e===t)),...e.filter((({id:e})=>e===l&&e!==t)),...e.filter((({id:e})=>![t,l].includes(e)))],p=h[0],f=h[1],x=h.length;if(x>3)return(0,u.nk)(r._("Collection by {{ownerName}}, {{ secondCollaborator}} and {{collaboratorCount}}","BoardHeaderDescriptionNames.Redesign.CollabNamesMoreThan3","Name of board owner and number of collaborators"),{ownerName:(0,g.jsx)(j,{user:p,isInBoardProfileRepClickableExp:o},p.id),secondCollaborator:(0,g.jsx)(j,{user:f,isInBoardProfileRepClickableExp:o},f.id),collaboratorCount:(0,g.jsx)(m.xv,{weight:"bold",inline:!0,children:(0,u.nk)(r.ngettext("{{collaboratorsCount}} other","{{collaboratorsCount}} others",null!=n?n:h.length-1,"BoardHeaderDescriptionNames.CollabNamesMoreThan2Text","Name of board owner and number of other collaborators"),{collaboratorsCount:s(a,h.length-1,{})})})});if(3===x){const e=h[2];return(0,u.nk)(r._("Collection by {{ownerName}}, {{ secondCollaborator}} and {{ thirdCollaborator }}","BoardHeaderDescriptionNames.Redesign.CollabNames3","Names of board collaborators"),{ownerName:(0,g.jsx)(j,{user:p,isInBoardProfileRepClickableExp:o},p.id),secondCollaborator:(0,g.jsx)(j,{user:f,isInBoardProfileRepClickableExp:o},f.id),thirdCollaborator:(0,g.jsx)(j,{user:e,isInBoardProfileRepClickableExp:o},e.id)})}return 2===x?(0,u.nk)(r._("Collection by {{ownerName}} and {{ secondCollaborator}}","BoardHeaderDescriptionNames.Redesign.CollabNames2","Names of board collaborators"),{ownerName:(0,g.jsx)(j,{user:p,isInBoardProfileRepClickableExp:o},p.id),secondCollaborator:(0,g.jsx)(j,{user:f,isInBoardProfileRepClickableExp:o},f.id)}):(0,u.nk)(r._("Collection by {{ownerName}}","BoardHeaderDescriptionNames.Redesign.CollabNames1","Names of board owner"),{ownerName:(0,g.jsx)(j,{user:p,isInBoardProfileRepClickableExp:o},p.id)})}var w=n(974142);function S({boardOwnerId:e,collaborators:t,description:n,collaboratorsAmount:i,isInBoardProfileRepClickableExp:r,lastModified:s,pinCount:a}){const h=(0,d.ZP)(),[f,x]=(0,o.useState)(!1),b=(0,w.ZP)(n,160),y=((null==n?void 0:n.length)||0)>160,v=(0,c.Z)(),j=(0,l.Z)(),{locale:S}=(0,p.B)();return(0,g.jsx)(m.kC,{alignItems:"center",direction:"column",justifyContent:"start",wrap:!0,children:(0,g.jsxs)(m.xv,{size:"lg",inline:!0,align:"center",children:[!r&&(0,g.jsx)(_,{boardOwnerId:e,collaborators:t,collaboratorsAmount:i}),!r&&t.length>0&&!!n&&(0,g.jsx)(m.xu,{display:"inlineBlock",paddingX:1,children:(0,g.jsx)(m.xv,{inline:!0,children:"·"})}),!!n&&(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(m.xv,{align:"center",inline:!0,children:f?n:b}),y&&(0,g.jsx)(m.xu,{display:"inlineBlock",marginStart:1,children:(0,g.jsx)(m.iP,{fullWidth:!1,onTap:()=>{x(!f)},children:(0,g.jsx)(m.xv,{inline:!0,weight:"bold",children:f?h._("Less","boardPage.header.description.truncateDescription","Text for cta to show less text for the board description"):h._("More","boardPage.header.description.expandDescription","Text for cta to show full text for the board description")})})})]}),!!r&&(0,g.jsxs)(m.xv,{overflow:"noWrap",inline:!0,children:[!!n&&!!a&&(0,g.jsx)(m.xu,{paddingX:1,display:"inlineBlock",children:(0,g.jsx)(m.xv,{inline:!0,children:"·"})}),!!a&&(0,u.nk)(h.ngettext("{{ pinCount }} Pin","{{ pinCount }} Pins",a,"boardPage.header.attribution.pinCount","Label for the number of pins belonging to a board"),{pinCount:v(S,a,{})}),!!s&&(0,g.jsx)(m.xv,{color:"gray",inline:!0,children:(0,u.nk)(h._(" {{ lastModifiedDate }}","boardPage.header.attribution.lastModified","Label displaying how many days ago the board was last modified"),{lastModifiedDate:j(s,!0)})})]})]})})}var C=n(214583),I=n(764989),k=n(171456),P=n(288453),T=n(855168),B=n(739472),E=n(583260);function Z({board:e,isSensitive:t,isViewerOrCollaborator:n,openSendBoardModal:r,user:s}){const l=(0,d.ZP)(),c=(0,T.k6)(),h=(0,i.useDispatch)(),{showToast:p}=(0,B.V6)(),[f,x]=(0,o.useState)(!1),[b,y]=(0,o.useState)(!1),v=!!e.archived_by_me_at,j=()=>x(!1),_=()=>y(!1),w=v?(0,u.nk)(l._("Unarchived {{ boardName }}","boardHeaderOverflowMenu.onBoardUnarchive.toast","Toast text on complete unarchiving board"),{boardName:e.name}).join(""):(0,u.nk)(l._("Archived {{ boardName }}","boardHeaderOverflowMenu.onBoardArchive.toast","Toast text on complete archiving board"),{boardName:e.name}).join(""),S=(0,g.jsx)(m.xu,{width:54,height:54,children:(0,g.jsx)(C.ZP,{boardId:e.id,type:"thumbnail"})}),Z=()=>{h((0,E.xk)(e.id,s.username)).then((()=>{p({text:w,thumbnail:S})})),_(),j()},R=()=>{h((0,E.YV)(e.id,s.username)).then((()=>{p({text:w,thumbnail:S})})),_(),j()},A=v?l._("Unarchive","boardHeaderOverflowMenu.archiveOptionTitle.UnarchiveBoard","Title for option UnarchiveBoard on Edit Board page"):l._("Archive","boardHeaderOverflowMenu.archiveOptionTitle.ArchiveBoard","Title for option ArchiveBoard on Edit Board page");return(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(k.ZP,{accessibilityLabel:l._("More board options","boardHeaderOverflowMenu.iconButton.accessibilityLabel","Accessibility label for more board options overflow menu button"),bgColor:"lightGray",color:"darkGray",icon:"ellipsis",onTouch:()=>x(!0),padding:2,size:"sm",testId:"board-overflow-menu"}),(0,g.jsx)(P.Z,{hideCloseIcon:!0,isOpen:f,onDismiss:j,type:"block_button",children:(0,g.jsx)(m.xu,{paddingX:2,paddingY:3,children:(0,g.jsxs)(m.kC,{direction:"column",gap:2,children:[(0,g.jsx)(m.xv,{children:l._("Board options","boardHeaderOverflowMenu.boardOptions","Options heading on Modal on own board")}),n&&(0,g.jsx)(m.iP,{fullWidth:!1,onTap:()=>{c.replace(`/board/${e.id}/edit/`)},rounding:"circle",children:(0,g.jsx)(a.Z,{id:"editBoard",children:(0,g.jsx)(m.X6,{size:"sm",children:l._("Edit board","boardHeaderOverflowMenu.boardOptions.editButton","Button to edit board")})})}),"secret"!==e.privacy&&!t&&(0,g.jsx)(m.iP,{fullWidth:!1,onTap:r,rounding:"circle",children:(0,g.jsx)(a.Z,{id:"sendBoard",children:(0,g.jsx)(m.X6,{size:"sm",children:l._("Share","boardHeaderOverflowMenu.boardOptions.shareBoardButton","Button to share board")})})}),n&&(0,g.jsx)(m.iP,{fullWidth:!1,onTap:()=>y(!0),rounding:"circle",children:(0,g.jsx)(a.Z,{id:"archiveBoard",children:(0,g.jsx)(m.X6,{size:"sm",children:A})})}),(0,g.jsx)(m.xu,{"data-test-id":"closeBoardOptions",display:"flex",justifyContent:"center",marginTop:3,children:(0,g.jsx)(m.zx,{color:"gray",onClick:j,size:"lg",text:l._("Close","boardHeaderOverflowMenu.boardOptions.closeModal","Accessibility label for close button on Modal on a own board")})}),(0,g.jsx)(I.Z,{fullName:e.name,isOpen:b,onConfirm:b?v?R:Z:()=>{},onDismiss:()=>_(),type:e.archived_by_me_at?"unarchive":"archive"})]})})})]})}const R=(0,i.connect)(null,(function(e,t){const{isRequestedByMe:n,boardId:o}=t;return{toggle:()=>{e(n?(0,E.dK)(o):(0,E.g)(o))}}}))((function(e){const t=(0,d.ZP)(),{isRequestedByMe:n,toggle:o,size:i}=e,r=n?t._("Cancel request","[Button] Cancel request to join a group board as a collaborator","[Button] Cancel request to join a group board as a collaborator"):t._("Join","BoardJoinButton.RequestToJoinText","[Button] Request to join a group board as a collaborator");return(0,g.jsx)(m.zx,{fullWidth:!0,onClick:o,text:r,size:i})}));var A=n(796025),O=n(785078),M=n(92849),N=n(809525);const $=({board:e,experience:t,onAddCollab:n,collaborators:r,boardOwnerId:s,canAddCollaborators:a,isInBoardProfileRepClickableExp:l})=>{const{userId:d}=(0,i.useSelector)((({session:e})=>e)),c=(0,T.k6)(),u=(0,o.useRef)(null),h=[...r.filter((({id:e})=>e===s)),...r.filter((({id:e})=>e===d&&e!==s)),...r.filter((({id:e})=>![s,d].includes(e)))],{displayedCollaborators:p,nonDisplayedCollaboratorCount:f}=(0,O.Z)({boardCollaboratorCount:e.collaborator_count,collaborators:h}),x=p.map((e=>{var t,n;return{name:null!==(t=e.username)&&void 0!==t?t:"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":null!==(n=e.image_medium_url)&&void 0!==n?n:""}})),b=()=>{e.id&&c.push(a?`/board/${e.id}/edit/collaborators/`:`/board/${e.id}/collaborators/`)};return(0,g.jsxs)(m.xu,{display:"flex",justifyContent:"center",flex:"none",marginTop:l?6:2,children:[f<=99?(0,g.jsx)(A.Z,{addButtonRef:u,collaboratorCount:r.length-1,nonDisplayedCollaboratorCount:f,displayedCollaborators:x,onClick:()=>{var e;(0,v.LW)({action:"click",page:"board",item:"user-rep-avatar"}),h.length>1||a?b():c.push(null!==(e=`/${h[0].username}`)&&void 0!==e?e:"/")},showAddButton:a}):(0,g.jsx)(M.Z,{addButtonRef:u,nonDisplayedCollaboratorCount:f,displayedCollaborators:x,onClick:b,showAddButton:a}),(0,g.jsx)(N.Z,{anchors:{4002:u.current},onCompleteByAnchor:{4002:n},experience:t,positionRelativeToAnchor:!1})]})};var L=n(155656),D=n(723498),z=n(558900),F=n(971887);const H="BoardPageSkeletonLoader__",U=()=>(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(L.Z,{unsafeCSS:[{name:`${H}board_title`,width:280,height:51},{name:`${H}profile_pic`,width:51,height:51}].map((({name:e,width:t,height:n})=>(0,z.Z)({name:e,width:t,height:n}))).join("")}),(0,g.jsxs)(m.xu,{paddingX:F.q3,paddingY:3,children:[(0,g.jsxs)(m.xu,{display:"flex",direction:"row",justifyContent:"between",alignItems:"center",marginBottom:6,children:[(0,g.jsx)(m.xu,{children:(0,g.jsx)("div",{className:`${H}board_title`})}),(0,g.jsx)(m.xu,{children:(0,g.jsx)("div",{className:`${H}profile_pic`})})]}),(0,g.jsx)(D.Z,{})]})]}),W="https://i.pinimg.com/originals/94/04/8b/94048b080ab1f22a75043b03c3fbcbe1.png";class Y extends o.PureComponent{render(){const{seasonalBlob:e}=this.props,{alt:t,color:n,background_image:o=W,display:i,textColor:r="white"}=e;return(0,g.jsx)(m.xu,{marginEnd:-3,marginStart:-4,height:"168px",width:"100vw",children:(0,g.jsx)(m.Ee,{alt:t,color:n,naturalHeight:1,naturalWidth:1,fit:"cover",src:o,children:(0,g.jsx)(m.xu,{position:"relative",width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.03)"}},children:(0,g.jsx)(m.xu,{display:"flex",flex:"grow",position:"relative",maxWidth:"71vw",left:!0,dangerouslySetInlineStyle:{__style:{paddingLeft:"14px",top:"20%"}},children:(0,g.jsx)(m.X6,{color:r,children:i})})})})})}}var X=n(390383),G=n(742899),q=n(153010),V=n(563776),K=n(266579),J=n(855283),Q=n(590307),ee=n(86037);function te({experience:e}){const t=(0,d.ZP)(),n=(0,T.TH)(),{complete:o,dismiss:i}=(0,Q.qI)(e);return(0,g.jsx)(P.Z,{isOpen:!0,maskFadeInDuration:"0.25s",slideUpDuration:"0.5s",type:"group_board_app_upsell",onDismiss:i,children:(0,g.jsxs)(m.xu,{display:"flex",direction:"column",alignItems:"center",padding:3,position:"relative",children:[(0,g.jsx)(m.xu,{position:"absolute",right:!0,top:!0,children:(0,g.jsx)(m.hU,{accessibilityLabel:t._("Close upsell","groupBoardAppUpsell.render.closeIconAccessibilityLabel","Accessibility label for close icon in group board app upsell"),icon:"cancel",iconColor:"gray",onClick:i,size:"xs"})}),(0,g.jsx)(m.xu,{marginBottom:4,children:(0,g.jsx)(m.JO,{accessibilityLabel:t._("Pinterest","groupBoardAppUpsell.render.pinterestIconAccessibilityLabel","Accessibility label for pinterest icon in group board app upsell"),color:"red",icon:"pinterest",size:30})}),(0,g.jsx)(m.xu,{marginBottom:7,children:(0,g.jsx)(m.xv,{align:"center",size:"lg",weight:"bold",children:t._("Our app gives you more features that make your group boards even better.","groupBoardAppUpsell.render.text","Text in mweb group board upsell for installing pinterest app")})}),(0,g.jsx)(ee.Z,{children:e=>(0,g.jsx)(m.zx,{fullWidth:!0,color:"red",type:"submit",text:t._("Let’s go","groupBoardAppUpsell.renderAppButton.buttonText","Text for installing app button on app upsell in mweb group board page."),onClick:()=>{o(),e(n.pathname.substr(1))},accessibilityLabel:t._("Download the Pinterest App","groupBoardAppUpsell.renderAppButton.buttonAccessibilityLabel","Accessibility label for install app button on app upsell in mweb group board page.")})})]})})}var ne=n(241933),oe=n(806670),ie=n(543919),re=n(304194),se=n(731164),ae=n(911506),le=n(156993),de=n(32539),ce=n(436992),ue=n(852558);function he({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:n}){const i=(0,d.ZP)();return(0,o.useEffect)((()=>{(0,y.j)({component:13860,event_type:13,view_type:5,aux_data:n})}),[]),(0,g.jsx)(m.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)",paddingTop:260}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new m.Ry(1),children:(0,g.jsxs)(m.kC,{alignItems:"center",direction:"column",gap:8,maxWidth:500,children:[(0,g.jsx)(m.X6,{align:"center",color:"white",children:i._("This board may contain sensitive content","board.sensitivityScreen.heading","Warning text on board that may have sensitive content")}),(0,g.jsxs)(m.kC,{gap:6,children:[(0,g.jsx)(m.zx,{color:"red",onClick:e,size:"lg",text:i._("Go back","board.sensitivityScreen.backButton","Text on button that lets user go back to previous page")}),(0,g.jsx)(m.zx,{color:"white",onClick:t,size:"lg",text:i._("View anyway","board.sensitivityScreen.viewButton","Text on button that allows user to dismiss sensitivity screen and view board")})]}),(0,g.jsx)(m.xu,{padding:4,children:(0,g.jsx)(m.xv,{align:"center",color:"white",overflow:"normal",size:"md",children:(0,u.nk)(i._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin',"board.sensitivityScreen.text","Text telling user how to report a Pin"),{communityGuidelines:(0,g.jsx)("a",{href:"https://policy.pinterest.com/en/community-guidelines",target:"_blank",rel:"noreferrer",children:(0,g.jsx)(m.xv,{color:"white",inline:!0,size:"md",underline:!0,children:i._("Community Guidelines","board.sensitivityScreen.communityGuidelines","Text that links to the community guidelines page")})})})})})]})})}var pe=n(38202),me=n(639307);function ge({seoRelatedInterests:e,componentStyle:t,isDesktop:n}){const i=(0,d.ZP)(),r=n;return(0,g.jsx)(m.xu,{display:"flex",alignContent:"center",direction:"column","data-test-id":"suggested-interests",padding:r?0:4,marginTop:n?4:0,children:e&&e.length>0&&(0,g.jsxs)(o.Fragment,{children:[n?(0,g.jsx)(m.xv,{align:"start",weight:"bold",size:"lg",children:i._("Similar ideas popular now","unauth.plp.suggested_ideas","title on Pin Page suggesting related topics to the topic of the current pin")}):(0,g.jsx)(m.X6,{align:"center",size:"sm",children:i._("Similar ideas popular now","unauth.plp.suggested_ideas","title on Pin Page suggesting related topics to the topic of the current pin")}),(0,g.jsx)(me.Z,{interests:e,componentStyle:t,shouldLeftAlign:r})]})})}var fe=n(861106),xe=n(414653),be=n(437523),ye=n(899520),ve=n(903945),je=n(419738),_e=n(608527),we=n(939606);const Se={"424605139807765557":!0,"487022215893335585":!0,"681802899776795712":!0,"605945393553266792":!0,"394065104834583533":!0,"681802899776795712":!0,"458452505757193282":!0,"568509221651063083":!0,"842314005246059316":!0,"684547280799527239":!0,"407294428740033573":!0,"681802899776805483":!0,"618119186295994269":!0,"424605139807777368":!0,"681802899776839770":!0,"487022215893349902":!0,"394065104834663920":!0,"842314005246096517":!0,"568509221651073933":!0,"458452505757203385":!0,"684547280799786717":!0,"605945393553311206":!0,"406238897577381755":!0,"618119186296081237":!0,"424605139807777372":!0,"424605139807777369":!0,"487022215893349904":!0,"568509221651073934":!0,"407294428740048526":!0,"424605139807777374":!0,"646125946478825462":!0,"646125946478866602":!0,"646125946478883676":!0,"646125946478883661":!0,"646125946478879471":!0,"394065104834692263":!0,"394065104834692264":!0,"394065104834692261":!0,"618119186296089811":!0,"487022215892656630":!0};var Ce=n(534435),Ie=n(181307),ke=n(348149),Pe=n(666584),Te=n(151101),Be=n(311866);const Ee=e=>{var t,n;const o=(0,d.ZP)(),{user:i,invitedByUser:r,inviterFirstName:s}=e;return(0,g.jsxs)(m.xu,{width:"100%",paddingX:4,paddingY:4,rounding:5,marginStart:-1,marginEnd:-1,marginBottom:3,display:"flex",direction:"row",alignItems:"center",borderStyle:"sm",children:[(0,g.jsx)(m.xu,{marginTop:-3,rounding:"circle",borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-1}},children:(0,g.jsx)(m.xu,{height:34,width:34,children:(0,g.jsx)(Te.Z,{name:i?i.username:"",src:i&&null!==(t=i.image_medium_url)&&void 0!==t?t:""})})}),(0,g.jsx)(m.xu,{marginTop:3,marginStart:-3,rounding:"circle",borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-2}},children:(0,g.jsx)(m.xu,{height:34,width:34,children:(0,g.jsx)(Te.Z,{name:r?r.username:"",src:r&&null!==(n=r.image_medium_url)&&void 0!==n?n:""})})}),(0,g.jsxs)(m.xu,{marginStart:4,children:[(0,g.jsx)(m.xv,{weight:"bold",children:o._("You're in!","Text showing that a user has accepted the board invite and is now a part of the board","Text showing that a user has accepted the board invite and is now a part of the board")}),(0,g.jsx)(m.xv,{children:(0,u.nk)(o._("Start collaborating with {{ invitedByUserName }} on this board"),{invitedByUserName:s})})]})]})};function Ze({boardId:e,inviteCode:t,inviterFirstName:n,invitedByUser:i,isSeamlessLanding:r,onAccept:s,showToast:a,user:l}){const c=(0,d.ZP)(),[u,h]=(0,o.useState)(!1),p={user:l,inviterFirstName:n,invitedByUser:i};return(0,o.useEffect)((()=>{if(s){Be.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:l&&l.id,invite_code:t}).callGet().then((()=>{const e=s();e&&e.then((()=>{h(!0),r&&se.Z.increment("mweb.social.group_board.seamless.accepted")})).catch((e=>{a({isError:!0,text:e.message||c._("Oops! Something went wrong…","Error during board page accepting","Error during board page accepting")})}))})).catch((e=>{a({isError:!0,text:e.message||c._("Oops! Something went wrong…","Error during board page accepting","Error during board page accepting")})}))}}),[]),u?(0,g.jsx)(Ee,{...p}):null}var Re=n(375943),Ae=n(756544),Oe=n(964964),Me=n(250766),Ne=n(530794),$e=n(221469);function Le({inviteCreationDatetime:e,invitedByUser:t,inviterFirstName:n,onAccept:o,onDismiss:i}){var r;const s=(0,d.ZP)(),a=(0,l.Z)(),c=(0,T.TH)(),{showToast:h}=(0,B.V6)(),p=`/${(null==t?void 0:t.username)||""}`,f=(0,Re.Z)(),b=f({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),i()},modalHeader:(0,Ne.gv)({firstName:n,i18n:s}),nextLocation:(0,Ne.F4)(c)}),y=f({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),o(),h({duration:4e3,text:s._("You're in! Save Pins, plan with collaborators, and more!","GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser","Toast text after accepting board collaborator invite.")})},modalHeader:(0,Ne.gv)({firstName:n,i18n:s}),nextLocation:(0,Ne.F4)(c)});return(0,g.jsxs)(m.xu,{alignItems:"start",borderStyle:"shadow",color:"white",display:"flex",marginBottom:2,marginTop:2,maxWidth:400,padding:6,rounding:6,children:[(0,g.jsx)(m.xu,{marginEnd:2,children:(0,g.jsx)(x.Z,{to:p,pressState:"none",children:(0,g.jsx)(Te.Z,{size:"md",name:n,src:null!==(r=null==t?void 0:t.image_large_url)&&void 0!==r?r:void 0})})}),(0,g.jsxs)(m.xu,{marginBottom:0,children:[(0,g.jsx)(m.xv,{color:"darkGray",weight:"normal",children:(0,u.nk)(s._("{{ name }} invited you to collaborate on this board  {{age}}","mweb.board.inviteCard.inviteCopy","Invite copy in board page"),{name:(0,g.jsx)(x.Z,{to:p,pressState:"none",inline:!0,children:(0,g.jsx)(m.xv,{weight:"bold",children:` ${(null==t?void 0:t.full_name)||""}`})}),age:(0,g.jsx)(m.xv,{inline:!0,color:"gray",children:e&&a(e,!0)})})}),(0,g.jsxs)(m.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,g.jsx)(m.xu,{display:"inlineBlock",marginTop:2,marginEnd:2,children:(0,g.jsx)(m.zx,{fullWidth:!0,color:"gray",text:s._("Decline","decline board collaborator invite or request","decline board collaborator invite or request"),onClick:b,size:"lg"})}),(0,g.jsx)(m.xu,{display:"inlineBlock",marginTop:2,children:(0,g.jsx)(m.zx,{fullWidth:!0,text:s._("Accept","accept board invite","accept board invite"),onClick:y,color:"red",size:"lg"})})]})]})]})}function De(){const e=(0,T.TH)(),{inviter_first_name:t,board_url:n,invite_code:i}=(0,$e.mB)(e.search),[r,s]=(0,o.useState)(Boolean(t&&n)),a=(0,T.k6)();return r?(0,g.jsx)(Le,{inviterFirstName:t,onAccept:()=>{const t=(0,$e.ru)("/",{next:i?`/invited/${e.search}`:n});a.push(t)},onDismiss:()=>s(!1)}):null}const ze=e=>Boolean((0,$e.mB)(e.search).accept_invite);function Fe({boardId:e}){const t=(0,T.TH)(),n=(0,i.useDispatch)(),{showToast:o}=(0,B.V6)(),r=(0,i.useSelector)((({session:e})=>e.userId)),{invite_code:s,seamless:a}=(0,$e.mB)(t.search),l=(0,Ae.U)({board:e,invited_user:r}),d=(0,i.useSelector)((({session:e,users:t})=>t[e.userId]));(0,Oe.Wf)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});const c=(0,i.useSelector)((e=>{var t;return(null===(t=(0,Me.gI)(e)[l])||void 0===t?void 0:t.created_at)||void 0}));(0,Oe.Wf)({name:"BoardInviteResource",options:{field_set_key:"boardEdit",board_id:e,invite_code:s,invited_user_id:r}});const u=(0,i.useSelector)((t=>{const n=(0,Me.NZ)(t)[e];return n?(0,Me.gI)(t)[n]:void 0})),h=(0,i.useSelector)((e=>(0,Me.Ud)(e)[l]||{}));if(!u||!h)return null;const p=h.first_name,m=()=>n((0,E.SD)(e,r));return ze(t)?(0,g.jsx)(Ze,{boardId:e,user:d,inviteCode:s,onAccept:m,showToast:o,inviterFirstName:p,invitedByUser:h,isSeamlessLanding:Boolean(a)}):(0,g.jsx)(Le,{inviteCreationDatetime:c,invitedByUser:h,inviterFirstName:p,onAccept:m,onDismiss:()=>n((0,E.xR)(e,r))})}const He=({isAuthenticated:e,boardId:t})=>e?(0,g.jsx)(Fe,{boardId:t}):(0,g.jsx)(De,{});var Ue=n(639218),We=n(483064),Ye=n(395714);function Xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ge=({boardId:e,children:t,hasFixedHeader:n,viewParameter:o})=>(0,g.jsx)(je.Hv,{children:(0,g.jsx)(le.Z,{viewType:5,viewParameter:o,objectIdStr:e,children:(0,g.jsx)(xe.Z,{view:5,viewParameter:o,objectId:e,children:(0,g.jsx)(ae.Z,{dataLayoutShiftBoundaryId:"BoardPageContainer",hasFixedHeader:n,children:t})})})}),qe=({board:e,children:t,experience:n,isAuthenticated:a,location:l,stickyHeaderRef:c,user:u})=>{var p,x,b,v,j;const w=(0,T.k6)(),C=(0,be.Z)(),I=(0,d.ZP)(),[k,P]=(0,o.useState)(!1),[B,A]=(0,o.useState)(!1),O=(0,i.useDispatch)(),{canUseNativeApp:M,boardPageSharingOptions:N}=(0,i.useSelector)((({session:e})=>e)),L=(0,i.useSelector)((t=>(0,Me.ET)(t,e))),D=(0,h.HG)(),z=(0,ie.Z)(Boolean(e.collaborated_by_me)),F={board_id:e.id,reason:(null===(p=e.sensitivity_screen)||void 0===p?void 0:p.reason)||""};a||((e,t)=>{var n;const o=(0,ve.qn)(_e.QR),[i]=o?JSON.parse(o):[];if(!(i&&i.path===t.pathname||null!==(n=t.state)&&void 0!==n&&n.isFromNavFooterPage)){const n=e.cover_pin,o=null==n?void 0:n.pin_id,i=e.cover_images,r=n&&n.image_signature||null,s=i&&i["222x"]||null;(0,We.p9)(t.pathname,r,o,s,"board")}})(e,l);const H=t=>{t&&t.stopPropagation&&t.stopPropagation(),e.isSocialSeasonalBoard&&O((0,Ce.Mj)(!0,"board",e.id)),A(!0)};(0,o.useEffect)((()=>{"t"===(0,$e.mB)(l.search).open_share&&H()}),[]);const U=!D&&(a||!M),{board_order_modified_at:W,follower_count:Q,pin_count:ee,isSocialSeasonalBoard:ne}=e,re=(e.access||[]).includes("write")&&!ne,se=(0,oe.Z)(e.owner),ae=(0,Ue.Uz)(e.sensitivity),le=(null===(x=e.seo_related_interests)||void 0===x?void 0:x.slice(0,5))||[];le.sort(((e,t)=>e.name&&t.name?e.name.length-t.name.length:-1));const de=(0,Ie.tc)("mweb_board_sensitivity_screen"),me=!se&&!z&&de().anyEnabled,[fe,xe]=(0,o.useState)(!(null===(b=e.sensitivity_screen)||void 0===b||!b.show_warning)&&me),je=fe?{filter:"blur(20px)"}:{},we=(0,Ie.tc)("unauth_board_profile_rep_clickable")().anyEnabled,Se=se?3069:3070;return(0,g.jsxs)(Ge,{boardId:e.id,hasFixedHeader:U,viewParameter:Se,children:[n&&(0,g.jsx)(q.Z,{experience:n,eligibleIds:[502059],children:(0,g.jsx)(te,{experience:n})}),n&&(0,g.jsx)(V.Z,{experience:n}),(0,g.jsxs)(m.xu,{dangerouslySetInlineStyle:{__style:je},children:[U&&(0,g.jsx)(G.Z,{position:"sticky",children:(0,g.jsx)(ye.$l,{paddingY:2,children:(0,g.jsxs)(m.xu,{alignItems:"center",column:12,"data-test-id":"boardHeader",display:"flex",height:"100%",ref:c,wrap:!0,children:[(0,g.jsx)(m.kC,{children:(0,g.jsx)(r.Z,{color:"darkGray",fallbackUrl:"/",padding:3,shouldUseFallbackUrl:ze(l),size:"sm"})}),(0,g.jsx)(m.xu,{flex:"grow"}),(0,g.jsx)(m.xu,{flex:"none",paddingX:2,children:(0,g.jsx)(Z,{board:e,isViewerOrCollaborator:z||se,isSensitive:ae,openSendBoardModal:H,user:u})}),a&&!re&&!ne&&(0,g.jsxs)(m.kC,{alignItems:"center",justifyContent:"start",children:[!u.blocked_by_me&&e.collaborator_requests_enabled&&a&&(0,g.jsx)(m.xu,{paddingX:1,flex:"none",children:(0,g.jsx)(R,{boardId:e.id,isRequestedByMe:Boolean(e.viewer_collaborator_join_requested),size:"lg"})}),(0,g.jsx)(m.xu,{paddingX:1,flex:"none",children:(0,g.jsx)(J.Z,{disabled:u.blocked_by_me,onFollow:e=>O((0,E.ZN)(e)),id:e.id,onUnfollow:e=>O((0,E.fv)(e)),size:"lg",isFollowed:e.followed_by_me,followEventType:26,unfollowEventType:27,viewParameter:3070,viewType:5,showPulsar:l.state&&l.state.showPulsar})})]})]})})}),!ne&&(0,g.jsx)(He,{boardId:e.id,isAuthenticated:a}),a&&(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(pe.default,{objectType:ne&&N&&"pin"===N.objectType?1:2,isOpen:ne&&N?!!N.isShareMenuOpen:B,onDismiss:t=>{t&&t.stopPropagation&&t.stopPropagation(),ne&&O((0,Ce.Mj)(!1,"board",e.id)),A(!1)},objectId:String(ne&&N?N.objectId:e.id)}),!ne&&k&&(0,g.jsx)(s.Z,{boardCollabPermissionsSetting:se&&e.collaborator_permissions_setting,objectType:2,isOpen:k,onDismiss:()=>P(!1),objectId:e.id})]}),ne?(0,g.jsx)(Y,{seasonalBlob:{alt:null!==(v=e.name)&&void 0!==v?v:"",color:e.socialHeaderBgColor,background_image:e.socialHeaderBgImage,display:null!==(j=e.name)&&void 0!==j?j:"",textColor:e.textIconColor}}):(0,g.jsx)(m.kC,{alignItems:"center",justifyContent:"center",children:(0,g.jsxs)(m.xu,{"data-test-id":"board-header",column:12,marginTop:2,marginBottom:4,maxWidth:488,children:[(0,g.jsx)(m.xu,{"data-test-id":"board-title",marginBottom:1,children:(0,g.jsx)(m.X6,{align:"center",overflow:"breakWord",children:e.name})}),!we&&!ae&&(0,g.jsx)($,{board:e,boardOwnerId:e.owner,canAddCollaborators:se||z&&e.collaborator_invites_enabled,canEdit:re,collaborators:L,experience:n,onAddCollab:()=>P(!0)}),(0,g.jsx)(m.xu,{display:"flex",alignItems:"center",wrap:!0,justifyContent:"center",marginTop:1,children:(0,g.jsx)(S,{boardOwnerId:e.owner,collaborators:L,collaboratorsAmount:e.collaborator_count,description:e.description,isInBoardProfileRepClickableExp:we,lastModified:W,pinCount:null!=ee?ee:0})}),we&&!ae&&(0,g.jsx)($,{board:e,boardOwnerId:e.owner,canAddCollaborators:se||z&&e.collaborator_invites_enabled,canEdit:re,collaborators:L,experience:n,onAddCollab:()=>P(!0),isInBoardProfileRepClickableExp:we}),we&&(0,g.jsx)(m.xu,{alignItems:"center",direction:"column",display:"flex",justifyContent:"start",marginTop:2,wrap:!0,children:(0,g.jsx)(m.xv,{size:"lg",inline:!0,align:"center",children:(0,g.jsx)(_,{boardOwnerId:e.owner,collaborators:L,collaboratorsAmount:e.collaborator_count,isInBoardProfileRepClickableExp:we})})}),!we&&(0,g.jsx)(m.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:2,"data-test-id":"board-count-info",children:(0,g.jsx)(f,{followerCount:null!=Q?Q:0,isAuthenticated:a,lastModified:W,pinCount:null!=ee?ee:0,isInBoardProfileRepClickableExp:we})}),(0,g.jsxs)(m.kC,{alignContent:"center",alignItems:"stretch",direction:"row",justifyContent:"center",children:["secret"===e.privacy&&(0,g.jsxs)(m.xu,{marginTop:2,display:"flex",direction:"row",children:[(0,g.jsx)(m.xu,{marginEnd:1,children:(0,g.jsx)(ce.Z,{backgroundColor:"white",iconColor:"darkGray",iconSize:16,size:16})}),(0,g.jsx)(m.xv,{color:"gray",size:"lg",children:I._("Secret board","boardPage.fixedHeader.secretBoardText","subtitle on board page for secret boards")})]}),e.archived_by_me_at&&(0,g.jsx)(m.xu,{marginTop:2,display:"flex",direction:"row",children:"secret"!==e.privacy?(0,g.jsx)(m.xv,{size:"lg",align:"center",color:"gray",children:I._("Archived board","boardPage.fixedHeader.archivedBoardText","subtitle on board page for archived boards")}):(0,g.jsxs)(o.Fragment,{children:[(0,g.jsx)(m.xu,{paddingX:1,children:(0,g.jsx)(m.xv,{color:"gray",children:"·"})}),(0,g.jsx)(m.xv,{size:"lg",align:"center",color:"gray",children:I._("Archived","boardPage.fixedHeader.archivedBoardAndSecretText","subtitle on board page for archived boards")})]})})]})]})}),!a&&le.length>0&&(0,g.jsx)(ge,{seoRelatedInterests:le,componentStyle:"pills",isDesktop:!1}),ae&&(0,Ue.Fx)(e.sensitivity)&&e.sensitivity&&(0,g.jsx)(m.xu,{paddingY:2,children:(0,g.jsx)(ue.Z,{notice:e.sensitivity.notice||e.sensitivity.notices[0],viewType:5,viewParameter:Se,sensitivity:e.sensitivity})}),(se||z)&&(0,g.jsx)(X.Z,{boardId:e.id}),(0,g.jsx)(m.xu,{children:t}),se&&(0,g.jsx)(K.Z,{boardId:e.id,surface:"board"})]}),fe&&(0,g.jsx)(m.xu,{marginStart:-2,children:(0,g.jsx)(he,{handleGoBack:()=>{(0,y.j)({event_type:101,component:13860,element:73,view_type:5,aux_data:F}),C||w.replace("/"),w.goBack()},hideSensitivityScreen:()=>{O((0,E.of)(e.id)),(0,y.j)({event_type:101,component:13860,element:12448,view_type:5,aux_data:F}),xe(!1)},sensitivityScreenAuxData:F})})]})};class Ve extends o.Component{constructor(...e){super(...e),Xe(this,"stickyHeaderRef",(0,o.createRef)()),Xe(this,"logScrollEvent",(0,fe.Z)((e=>{const t=this.props.board?this.props.board.id:0;(0,y.j)({event_type:110,view_type:5,view_parameter:3070,aux_data:{unauth_page_board_id:t}})}),300))}componentDidMount(){const{board:e,dispatch:t,isAuthenticated:n,location:o,pwtStaticContext:i}=this.props;if(e){let n="other";(0,oe.Z)(e.owner)?n="own":(0,ie.Z)(Boolean(e.collaborated_by_me))&&(n="collaborator"),t((0,Q.pz)([1000251],{board_id:e.id,board_ownership:n}))}(0,re.Z)(),n?(0,$e.mB)(o.search).seamless&&se.Z.increment("mweb.social.group_board.seamless.land"):((0,We.Mt)(o.pathname,null),window.addEventListener("scroll",this.logScrollEvent),(0,we.S$)({appLoadName:"board_page_interactive",clientNavName:"client_route_push_unauth_board"},i)),this.stickyHeaderRef&&this.stickyHeaderRef.current&&ne.ZP.addObstruction("top",this.stickyHeaderRef.current)}componentWillUnmount(){this.props.isAuthenticated||window.removeEventListener("scroll",this.logScrollEvent);const{board:e,boardPageSharingOptions:t,dispatch:n}=this.props;t&&t.isShareMenuOpen&&e&&e.isSocialSeasonalBoard&&n((0,Ce.Mj)(!1,"board",e.id)),this.stickyHeaderRef&&this.stickyHeaderRef.current&&ne.ZP.removeObstruction("top",this.stickyHeaderRef.current)}componentDidUpdate({board:e}){const{board:t,dispatch:n,isAuthenticated:o}=this.props;!e&&t&&t.id&&Se[t.id]&&n((0,E.KQ)(t.id,o?"auth":"unauth"))}render(){const{board:e,i18n:t,isAuthenticated:n,user:o}=this.props;return e&&o?(0,g.jsx)(qe,{...this.props,board:e,stickyHeaderRef:this.stickyHeaderRef}):(0,g.jsx)(m.xu,{column:12,paddingY:2,children:n?(0,g.jsx)(m.$j,{accessibilityLabel:t._("Loading feed"),show:!0}):(0,g.jsx)(U,{})})}}const Ke=({boardId:e})=>{const{slug:t,username:n}=(0,T.UO)();return(0,Oe.Wf)({name:"BoardInvitesResource",options:{...e?{board_id:e}:{username:n,slug:t},status_filters:"new,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),null};function Je({children:e}){const t=(0,d.ZP)(),n=(0,Pe.N5)(),r=(0,T.TH)(),{slug:s,username:a}=(0,T.UO)(),l=(0,i.useDispatch)(),{boardPageSharingOptions:c,isAuthenticated:u}=(0,i.useSelector)((({session:e})=>e)),h=`/${a||""}/${(0,Ye.X)(s||"")}/`,p=(0,i.useSelector)((e=>(0,Me.i3)(e)[h])),m=(0,i.useSelector)((e=>(0,Me.Il)(e)[a])),f=(0,ke._P)({id:1000251});return(0,g.jsxs)(o.Fragment,{children:[p&&(p.access||[]).includes("write")&&!p.isSocialSeasonalBoard&&(0,g.jsx)(Ke,{boardId:p.id}),(0,g.jsx)(de.Z,{surface:"board",measureGridVisuallyComplete:!0,children:(0,g.jsx)(Ve,{board:p,boardPageSharingOptions:c,dispatch:l,experience:f,i18n:t,isAuthenticated:u,location:r,pwtStaticContext:n,user:m,children:e})})]})}const Qe=({username:e,slug:t,getPageMetadata:n,invite_code:o})=>({field_set_key:"profile_grid_item",is_mobile_fork:!0,username:e,slug:t,get_page_metadata:n,invite_code:o});function et({children:e}){const t=(0,d.ZP)(),{isAuthenticated:n,isSeoBot:o}=(0,i.useSelector)((({session:e})=>e)),r=(0,T.TH)(),{slug:s,username:a}=(0,T.UO)(),{showToast:l}=(0,B.V6)(),{error:c}=(0,Oe.Wf)({name:"BoardResource",options:Qe({username:a||"",slug:(0,Ye.$)(s||"")})}),u=c?n?{pathname:r.pathname.match(/\/[^\/]*\//g),search:r.search}:{pathname:"/",search:(0,$e.ru)(r.search,{next:r.pathname})}:null,h=(0,Oe.Wf)({dangerouslyDisableFetch:o,name:"UserResource",options:{field_set_key:"profile",username:a}}),p=!o&&(0,Oe.EM)(h);return u?(l({duration:7e3,text:n?t._("We couldn't find that Pinner's board but here are some of their other boards!","Error text when a user attempts to go to a board that doesn't exist or they don't have access to","Error text when a user attempts to go to a board that doesn't exist or they don't have access to"):t._("We can't find that board. Please log in and give it another try!","Error text when a user attempts to go to a board that doesn't exist or they don't have access to","Error text when a user attempts to go to a board that doesn't exist or they don't have access to"),isError:!0}),(0,g.jsx)(T.l_,{to:u})):p?(0,g.jsx)(T.l_,{to:p}):e}function tt({children:e}){return(0,g.jsx)(et,{children:(0,g.jsx)(Je,{children:e})})}},452964:(e,t,n)=>{n.d(t,{Z:()=>l});var o=n(667294),i=n(174523),r=n(181307),s=n(883119),a=n(785893);function l({setting:e,viewerIsOwner:t}){const n=(0,r.tc)("mweb_board_modals")().anyEnabled,l=(0,i.ZP)(),d={0:{name:l._("Do (almost) everything","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:l._("Add, move or delete Pins and sections, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")},1:{name:l._("Save and comment","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:t?l._("Save Pins, organize them, comment and react","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting"):l._("Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!","save.board.BoardPage.ModalContents.BoardPermissionDescription.SaveOnly.Collab","Text explaining collaborator permission setting")},INVITE_SETTING:{name:l._("Invite other people","save.board.BoardPage.ModalContents.BoardCollabSettings","Heading explaining collaborator permission setting"),description:l._("Collaborators can invite others to this board","save.board.BoardPage.ModalContents.BoardCollabSettings","Text explaining collaborator permission setting")}};return(0,a.jsxs)(o.Fragment,{children:[n?(0,a.jsx)(s.X6,{size:"sm",children:d[e].name}):(0,a.jsx)(s.xv,{color:"darkGray",size:"lg",weight:"bold",children:d[e].name}),(0,a.jsx)(s.xu,{paddingY:1,children:(0,a.jsx)(s.xv,{color:"gray",size:"lg",children:d[e].description})})]})}},390383:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(667294),i=n(40142),r=n(585967),s=n(883119),a=n(785893);const l=(0,o.forwardRef)((({boardTool:{icon:e,link:t,text:n}},i)=>{const[l,d]=(0,o.useState)(!1),{isRTL:c}=(0,r.B)();return(0,a.jsx)(s.iP,{accessibilityLabel:n,href:t,onFocus:()=>d(!0),onBlur:()=>d(!1),ref:i,role:"link",rounding:6,children:(0,a.jsxs)(s.xu,{display:"flex",direction:"column",justifyContent:"center",dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},children:[(0,a.jsx)(s.xu,{alignItems:"center",color:l?"lightWash":"lightGray",display:"flex",height:72,justifyContent:"center",rounding:6,width:72,children:(0,a.jsx)(s.JO,{accessibilityLabel:n,color:"darkGray",icon:"text-align-left"===e&&c?"text-align-right":e,size:24})}),(0,a.jsx)(s.xu,{paddingY:1,width:72,children:(0,a.jsx)(s.xv,{align:"center",size:"sm",weight:"bold",children:n})})]})})}));l.displayName="BoardTool";const d=l;function c({boardId:e,sectionId:t}){const n=(0,o.useRef)(),r=(0,o.useRef)(),l=(0,o.useRef)(),c=(0,o.useRef)();let u="";t?u=t:e&&(u=e);const h=!!t?`section-tools:${u}`:`board-tools:${u}`,p=(0,i.useSelector)((({feeds:e})=>e[h]))||[];if(p.length<1)return null;const m=[n,r,l,c],g=p.map((({id:e})=>{const t=e.split("-");return t&&t.length>1?Number(t[1]):-1}));return p?(0,a.jsx)(s.kC,{alignItems:"center",justifyContent:"center",width:"100%",children:(0,a.jsx)(s.kC,{alignItems:"stretch",justifyContent:"start",children:p.map(((e,t)=>{const n=g?g[t]:-1;return(0,a.jsx)(s.xu,{padding:1,children:(0,a.jsx)(d,{boardTool:e,ref:m[n]})},e.id)}))})}):null}},266579:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(931253),i=n(883119),r=n(785893);function s({boardId:e,surface:t}){return(0,r.jsx)(i.xu,{bottom:!0,marginBottom:4,position:"fixed",rounding:"circle",width:56,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",right:"50%",transform:"translate(-50%)"}},children:(0,r.jsx)(o.ZP,{boardId:e,bgColor:"white",iconButtonColor:"darkGray",iconButtonSize:"xl",buttonPadding:4,viewType:"board"===t?5:164,elementType:10643})})}},806670:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(328035);function i(e){return e===(0,o.b)().getState().session.userId}},543919:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(328035);function i(e){return(0,o.b)().getState().session.isAuthenticated&&e}},604547:(e,t,n)=>{n.d(t,{Z:()=>G});var o=n(667294),i=n(40142),r=n(151101),s=n(881794),a=n(544039),l=n(250766),d=n(756544),c=n(583260),u=n(174523),h=n(883119),p=n(708206),m=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.PureComponent{constructor(...e){var t;super(...e),t=this,g(this,"state",{isSent:!1}),g(this,"onInlineSend",(async function(){const{inviteCollaborator:e,viewingUser:{id:n},boardId:o,recipient:{id:i},showToast:r}=t.props;t.setState({isSent:!0});try{await e(o,i,n),r({text:t.props.i18n._("1 invite sent!","BoardCollabSuggestionCell.onInlineSend.confirmationToast","Toast message after sending out an invitation to collaborate on a board.")})}catch(s){t.setState({isSent:!1}),r({isError:!0,text:s.message||t.props.i18n._("Sorry! There was an error adding collaborators","Toast for adding collaborator error","Toast for adding collaborator error")})}}))}render(){const{invite:e,legoBoardModalsEnabled:t,recipient:n}=this.props,{isSent:o}=this.state,i=!(!o&&!e);return(0,m.jsxs)(h.xu,{position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",paddingY:2,children:[(0,m.jsx)(h.xu,{children:(0,m.jsx)(r.Z,{size:"md",src:n.image_large_url,name:n.full_name})}),(0,m.jsx)(h.xu,{paddingX:2,flex:"grow",children:t?(0,m.jsxs)(h.xu,{children:[(0,m.jsx)(h.X6,{size:"sm",lineClamp:1,children:n.full_name}),(0,m.jsx)(h.xv,{color:"gray",size:"sm",lineClamp:1,children:n.username})]}):(0,m.jsx)(h.xv,{weight:"bold",lineClamp:1,children:n.full_name})}),(0,m.jsx)(h.xu,{right:!0,flex:"none",marginStart:2,children:i?(0,m.jsx)(h.xu,{marginEnd:2,children:(0,m.jsx)(h.xv,{size:"lg",color:"gray",weight:"bold",children:this.props.i18n._("Invited","Disabled button after a user invites someone else","Disabled button after a user invites someone else")})}):(0,m.jsx)(h.zx,{disabled:i,size:"lg",color:"red",text:this.props.i18n._("Invite","Button to invite a contact to collaborate on a group board","Button to invite a contact to collaborate on a group board"),onClick:()=>{this.onInlineSend()}})})]})}}const x=(0,p.compose)(a.Z,(0,s.Z)({name:"BoardInviteResource",key:"resource",options:e=>({board_id:e.boardId,invited_user_id:e.recipient.id}),mapState:(e,t)=>{const n=(0,d.U)({board:t.boardId,invited_user:t.recipient.id});return{invite:(0,l.gI)(e)[n]}}}),(0,i.connect)(((e,t)=>({viewingUser:e.users[e.session.userId]})),((e,t)=>({inviteCollaborator:(t,n,o)=>e((0,c.$z)(t,[n],o))}))))((function(e){const t=(0,u.ZP)();return(0,m.jsx)(f,{...e,i18n:t})}));var b=n(3604),y=n(96908),v=n(731164),j=n(311866),_=n(823493),w=n.n(_),S=n(442975),C=n(24309);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class P extends o.PureComponent{constructor(e){super(e),I(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[]}),I(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:n}=this.props,o={options:{user:t,term:e}};this.setState({value:e},n(o))})),I(this,"getContactSuggestions",(()=>{const{suggestions:e,userId:t,users:n}=this.props,{value:o,defaultSuggestions:i}=this.state;if(!o)return i.filter((e=>n[e.id]))||[];const r=`share-suggestions:${t}:${o}`,s=`share-suggestions:${t}:${o.slice(0,-1)}`;return e[r]||e[s]||[]})),I(this,"renderContactSuggestions",(()=>{const{fetching:e,users:t,boardId:n,legoBoardModalsEnabled:o,userId:i,isFullHeight:r}=this.props,s=this.getContactSuggestions(),a=Math.min(s.length,4),l=r?"100%":`calc(8.5vh * ${a})`;return e?(0,m.jsx)(h.xu,{paddingY:2,height:l,children:(0,m.jsx)(h.$j,{show:!0,accessibilityLabel:this.props.i18n._("Searching for contacts","Placeholder text for spinner on share menu","Placeholder text for spinner on share menu")})}):0===s.length?r&&(0,m.jsx)(h.xu,{marginTop:4,children:(0,m.jsx)(h.xv,{align:"center",children:this.props.i18n._("Sorry, we can't find anyone by that name.","Text to show empty state when a contact can not be found","Text to show empty state when a contact can not be found")})}):(0,m.jsx)(h.xu,{height:l,children:s.map((e=>(0,m.jsx)(x,{boardId:n,legoBoardModalsEnabled:o,recipient:t[e.id],userId:i},e.id)))})})),this.scrollerRef=(0,o.createRef)()}componentDidUpdate(e){const{fetching:t}=e,{value:n}=this.state,o=t&&!this.props.fetching,i=this.getContactSuggestions();if(!n&&o){const e=i.length>0?7511:7512;(0,C.j)({event_type:e,view_type:5,view_parameter:3059})}}componentDidMount(){j.ZP.create("ShareSuggestionsResource",{suggestion_type:"group_board"}).callGet().then((e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;this.setState({defaultSuggestions:n})})).catch((e=>{v.Z.increment("mweb_share_menu_load_suggestions.fail.board_invite",1)}))}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:n}=this.props,o=w()((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,m.jsxs)(h.xu,{color:"white",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,m.jsx)(h.xu,{paddingY:2,color:"white",paddingX:4,dangerouslySetInlineStyle:{__style:e?k:null},children:(0,m.jsx)(y.Z,{accessibilityLabel:this.props.i18n._("search contact","Accessibility label for searchbar on share menu","Accessibility label for searchbar on share menu"),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:n,placeholder:this.props.i18n._("Search by name or email","Placeholder text for searchbar on share menu","Placeholder text for searchbar on share menu"),value:this.state.value,autoFocus:t})}),(0,m.jsx)(h.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",paddingX:4,onScroll:o,ref:this.scrollerRef,children:this.renderContactSuggestions()})]})}}const T=(0,s.Z)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:({userId:e})=>({term:"",user:e}),mapState:(e,t)=>({conversations:e.conversations,fetching:Object.keys(e.resources.ShareSuggestionsTypeaheadResource||{}).some((t=>e.resources.ShareSuggestionsTypeaheadResource[t].fetching)),suggestions:(0,l.oF)(e,t),userId:e.session.userId,users:e.users}),mapDispatch:e=>({searchContacts:t=>{(0,b.Z)(e((0,S.U2)("ShareSuggestionsTypeaheadResource",t)),200)}})})((function(e){const t=(0,u.ZP)();return(0,m.jsx)(P,{...e,i18n:t})}));var B=n(452964),E=n(467e3),Z=n(52676),R=n(863219),A=n(923013),O=n(288453),M=n(988089),N=n(948072),$=n(912065),L=n(181307),D=n(519916),z=n(855168);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const H=({text:e})=>(0,m.jsx)(h.xv,{align:"center",size:"sm",children:(0,m.jsx)(M.Z,{maxWidthPx:70,maxHeightPx:30,children:e})}),U=({heading:e,legoBoardModalsEnabled:t,onDismiss:n})=>{const o=(0,u.ZP)();return(0,m.jsxs)(h.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",padding:2,children:(0,m.jsx)(h.hU,{accessibilityLabel:o._("Close","close share menu","close share menu"),icon:"cancel",onClick:n,size:t?"lg":"sm",iconColor:"darkGray",padding:4})}),(0,m.jsx)(h.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,m.jsx)(h.xv,{align:"center",weight:"bold",children:(0,m.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},W=({children:e,isOpen:t,legoBoardModalsEnabled:n,onDismiss:o,shouldRenderFullHeight:i})=>{const r=(0,u.ZP)(),s=r._("Invite collaborators","mweb.inviteSheet.header.label","Heading for the add collaborators sharesheet"),a={accessibilityCloseIconLabel:r._("close send modal"),heading:s,isOpen:t,legoBoardModalsEnabled:n,onDismiss:o,type:"board_collab_share_menu",childPaddingY:0,childPaddingX:0};return i?(0,m.jsxs)(Z.Z,{isOpen:t,onDismiss:o,pauseImpression:!1,children:[(0,m.jsx)(U,{heading:s,legoBoardModalsEnabled:n,onDismiss:o}),e]}):(0,m.jsx)(O.Z,{...a,children:e})};class Y extends o.PureComponent{constructor(...e){super(...e),F(this,"state",{invitePath:"",inviteCode:null,Clipboard:null,fbLoaded:!1}),F(this,"setClipboard",(e=>{const{Clipboard:t}=this.state;if(this.copyButtonRef=e,!e||!t)return;const n=new t(e,{text:()=>this.state.invitePath});n.on("success",(e=>{this.showCopyToast(e)})),n.on("error",(e=>{throw new Error("<ShareMenu /> error: copy command failed")}))})),F(this,"handleSelect",(e=>{const t=e.currentTarget;this.isiOS()&&this.state.invitePath?t.setSelectionRange(0,this.state.invitePath.length):t.select()})),F(this,"handleFocus",(e=>{this.isiOS()||e.currentTarget.select()})),F(this,"showCopyToast",(e=>{this.logShare(12),this.props.onDismiss(e),this.props.showToast({text:this.props.i18n._("Copied link to your clipboard to share","url link was copied to user clipboard","url link was copied to user clipboard")})})),F(this,"handleMessengerClick",(()=>{this.logShare(6),this.fetchFreshInviteCode(6)})),F(this,"handleTwitterClick",(()=>{this.logShare(9),this.fetchFreshInviteCode(9)})),F(this,"handleWhatsappClick",(()=>{this.logShare(10),this.fetchFreshInviteCode(10)})),F(this,"handleFacebookClick",(e=>{e.preventDefault();const{inviteCode:t,invitePath:n,fbLoaded:o}=this.state;o&&window.FB.ui({method:"share",mobile_iframe:!0,href:n},(e=>{e&&!e.error_message&&this.logShare(5,t)})),this.fetchFreshInviteCode(5)})),F(this,"copyButtonRef",null)}componentDidMount(){this.fetchFreshInviteCode(12),(0,D.we)("en_US").then((()=>{this.setState({fbLoaded:!0})})),n.e(6527).then(n.t.bind(n,842152,23)).then((({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))})),(0,C.j)({event_type:7120,view_type:5,view_parameter:3059})}componentDidUpdate({objectId:e}){const{objectId:t}=this.props;e!==t&&this.fetchFreshInviteCode(12)}fetchFreshInviteCode(e){const{objectId:t,objectType:n}=this.props;j.ZP.create("CreateExternalInviteResource",{invite_type:{invite_category:4,invite_object:n,invite_channel:e},object_id:t}).callCreate().then((e=>{const t=e.resource_response.data,n=t.invite_url,o=t.invite_code;n&&this.setState({invitePath:n}),o&&this.setState({inviteCode:o})}))}isiOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}logShare(e,t=this.state.inviteCode){const{objectId:n,objectType:o}=this.props;j.ZP.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:4,invite_object:o,invite_channel:e},invite_code:t,object_id:n}).callCreate()}render(){const{boardCollabPermissionsSetting:e,history:t,legoBoardModalsEnabled:n,objectId:i,onExpand:r,shouldRenderFullHeight:s}=this.props,{invitePath:a}=this.state,l=`fb-messenger://share/?link=${encodeURIComponent(a)}&app_id=${D.GH}`,d=`twitter://post?message=${encodeURIComponent(a)}`,c=`whatsapp://send?text=${encodeURIComponent(a)}`,u=({children:e,marginEnd:t})=>(0,m.jsx)(h.xu,{display:"flex",direction:"column",width:n?void 0:78,marginEnd:t,children:e}),p=({children:e})=>(0,m.jsx)(h.xu,{display:"flex",justifyContent:"center",paddingX:n?void 0:3,children:e}),g=this.props.i18n._("Copy link","Copy link icon","Copy link icon"),f=this.props.i18n._("Messenger","Facebook Messenger App","Facebook Messenger App"),x=n?"44":"48";return(0,m.jsxs)(o.Fragment,{children:[!s&&(0,m.jsxs)(h.xu,{children:[(0,m.jsx)(h.xu,{height:4}),[0,1].includes(e)&&(0,m.jsx)(h.iP,{onTap:()=>t.push(`/board/${i}/permissions`),children:(0,m.jsxs)(h.xu,{marginBottom:8,paddingX:4,children:[(0,m.jsx)(h.xu,{paddingY:2,children:(0,m.jsx)(h.xv,{size:"sm",children:this.props.i18n._("Collaborators can...","boardEdit.EditCollaborators","Text before showing collaborator permissions on a board")})}),(0,m.jsxs)(h.kC,{alignItems:"start",justifyContent:"between",children:[(0,m.jsx)(h.xu,{width:"60%",children:(0,m.jsx)(B.Z,{setting:e})}),(0,m.jsx)(h.JO,{accessibilityLabel:this.props.i18n._("See permission options","boardEdit.EditCollaborators","accessibility label on button"),icon:"arrow-forward"})]})]})}),(0,m.jsxs)(h.xu,{display:"flex",justifyContent:"around",marginStart:4,marginEnd:4,overflow:"scrollX",width:"100%",children:[(0,m.jsxs)(u,{marginEnd:2,children:[(0,m.jsx)(p,{children:(0,m.jsx)(h.xu,{ref:this.setClipboard,children:(0,m.jsx)(R.Z,{size:x,color:"#333333"})})}),(0,m.jsx)(H,{text:g})]}),(0,m.jsxs)(u,{marginEnd:2,children:[(0,m.jsx)(p,{children:(0,m.jsx)("a",{href:l,onClick:this.handleMessengerClick,children:(0,m.jsx)(A.Z,{size:x})})}),(0,m.jsx)(H,{text:f})]}),(0,m.jsxs)(u,{marginEnd:2,children:[(0,m.jsx)(p,{children:(0,m.jsx)("a",{href:c,onClick:this.handleWhatsappClick,children:(0,m.jsx)($.Z,{size:x})})}),(0,m.jsx)(H,{text:this.props.i18n._("WhatsApp","WhatsApp App","WhatsApp App")})]}),(0,m.jsxs)(u,{marginEnd:2,children:[(0,m.jsx)(p,{children:(0,m.jsx)("a",{href:"#",onClick:this.handleFacebookClick,children:(0,m.jsx)(E.Z,{size:x})})}),(0,m.jsx)(H,{text:this.props.i18n._("Facebook","Facebook App","Facebook App")})]}),(0,m.jsxs)(u,{children:[(0,m.jsx)(p,{children:(0,m.jsx)("a",{href:d,onClick:this.handleTwitterClick,children:(0,m.jsx)(N.Z,{size:x})})}),(0,m.jsx)(H,{text:this.props.i18n._("Twitter","Twitter App","Twitter App")})]})]}),(0,m.jsx)(h.xu,{height:16})]}),(0,m.jsx)(T,{boardId:i,expandContactsList:r,isFullHeight:s,legoBoardModalsEnabled:n})]})}}const X=(0,p.compose)(z.EN,a.Z)((function(e){const t=(0,u.ZP)();return(0,m.jsx)(Y,{...e,i18n:t})})),G=({boardCollabPermissionsSetting:e,isOpen:t,onDismiss:n,objectId:i,objectType:r})=>{const[s,a]=(0,o.useState)(!1),l=(0,L.tc)("mweb_board_modals")().anyEnabled,d=e=>{s&&!l?a(!1):n(e)};return(0,m.jsx)(W,{isOpen:t,legoBoardModalsEnabled:l,onDismiss:d,shouldRenderFullHeight:s||l,children:(0,m.jsx)(X,{boardCollabPermissionsSetting:e,legoBoardModalsEnabled:l,objectId:i,objectType:r,onDismiss:d,onExpand:()=>a(!0),shouldRenderFullHeight:s||l})})}},764989:(e,t,n)=>{n.d(t,{Z:()=>b});var o=n(288453),i=n(946753),r=n(181307),s=n(174523),a=n(883119),l=n(785893);const d="archive",c="delete",u="deleteSection",h="leave",p="remove",m="unarchive",g=(e,t,n)=>e===h?n._("If you leave this board, it won't show up on your\n    profile and you won't be able to save Pins to it anymore.","the effect of leaving a board","the effect of leaving a board"):e===c?n._("You won't be able to get it back.","the effect of deleting a board","the effect of deleting a board"):e===u?n._("Once you delete a section and all its Pins, you can't undo it!"):e===d?(0,i.nk)(n._("If you archive {{ boardName }}, we'll hide it from your profile and you won't be able to save new Pins to it. If you change your mind, you can unarchive it."),{boardName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},t)}):e===m?(0,i.nk)(n._("If you unarchive {{ boardName }}, it will show up on your profile and you'll be able to save new Pins to it."),{boardName:(0,l.jsx)(a.xv,{inline:!0,weight:"bold",children:t},t)}):null,f=(e,t)=>e===c?t._("Delete"):e===h?t._("Leave board"):e===p?t._("Remove"):e===u?t._("Delete section"):e===d?t._("Archive","button label on confirming board archive","button label on confirming board archive"):e===m?t._("Unarchive","button label on confirming board unarchive","button label on confirming board unarchive"):"",x=(e,t,n)=>e===c?n._("Delete Board?","confirmation of the act of deleting a board","confirmation of the act of deleting a board"):e===h?n._("Leave this Board?","confirmation of the act of leaving a board","confirmation of the act of leaving a board"):e===p?(0,i.nk)(n._("Are you sure you want to remove {{ fullName }}?"),{fullName:t}):e===u?n._("Delete section?"):e===d?n._("Archive this board?","modal heading for board archive confirmation","modal heading for board archive confirmation"):e===m?n._("Unarchive this board?","modal heading for board unarchive confirmation","modal heading for board unarchive confirmation"):null,b=({type:e,fullName:t,isOpen:n,onConfirm:i,onDismiss:d})=>{const c=(0,s.ZP)(),u=(0,r.tc)("mweb_board_modals")().anyEnabled;return(0,l.jsx)(o.Z,{accessibilityCloseIconLabel:c._("Close","Close modal window","Close modal window"),hideCloseIcon:u,isOpen:n,legoBoardModalsEnabled:u,onDismiss:d,type:"edit_wraning_modal",children:(0,l.jsxs)(a.xu,{marginBottom:u?2:void 0,marginTop:u?3:void 0,children:[(0,l.jsx)(a.xu,{children:(0,l.jsx)(a.X6,{align:u?"center":void 0,overflow:"normal",size:u?"md":"sm",children:x(e,t,c)})}),(0,l.jsx)(a.xu,{marginBottom:u?8:6,marginTop:u?2:6,children:(0,l.jsx)(a.xv,{align:u?"center":void 0,children:g(e,t,c)})}),(0,l.jsxs)(a.xu,{alignItems:u?"center":void 0,dangerouslySetInlineStyle:{__style:{flexDirection:u?"row-reverse":void 0}},display:u?"flex":void 0,justifyContent:u?"center":void 0,children:[(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:u?1:void 0,paddingY:1,"data-test-id":"confirmButtonContainer",width:u?"100%":void 0,children:(0,l.jsx)(a.zx,{fullWidth:!0,color:"red",onClick:i,size:u?"lg":void 0,text:f(e,c)})}),(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"no-wrap"}},paddingX:u?1:void 0,paddingY:1,width:u?"100%":void 0,children:(0,l.jsx)(a.zx,{fullWidth:!0,onClick:d,size:u?"lg":void 0,text:c._("Cancel")})})]})]})})}},723612:(e,t,n)=>{n.d(t,{qd:()=>i,Rf:()=>s});var o=n(762803);const{Provider:i,Consumer:r,useHook:s}=(0,o.ZP)("CloseupPageContext")},875431:(e,t,n)=>{n.d(t,{ZP:()=>W,Co:()=>D});var o=n(667294),i=n(40142),r=n(174523),s=n(946753),a=n(641483),l=n(883119),d=n(785893);const c={910319220330:["https://i.pinimg.com/736x/63/23/4c/63234c69f74089d4d263f296b385269d.jpg","https://i.pinimg.com/474x/5e/0e/ce/5e0ece6fe1d2143a6d59b5cbd231f975.jpg","https://i.pinimg.com/736x/2a/00/41/2a0041fb8a2ba011bfa32f43c729a668.jpg"],925056443165:["https://i.pinimg.com/474x/c0/15/09/c015090b37e6c04fbc080bae7a56e1c9.jpg","https://i.pinimg.com/736x/02/d4/d2/02d4d24a9ccff14f084674106e2f433a.jpg","https://i.pinimg.com/736x/3a/e0/4d/3ae04d8f48cd35c6d0d4e204dafd353c.jpg"],918105274631:["https://i.pinimg.com/474x/ee/7f/86/ee7f8649af3509ea64da7d2e5417866e.jpg","https://i.pinimg.com/736x/4e/f1/34/4ef134d6f6c3bff6eef4d637d2693048.jpg","https://i.pinimg.com/736x/d0/84/7a/d0847a9cc123e61d1bbe9e3675e84aae.jpg"],961238559656:["https://i.pinimg.com/736x/fe/93/ff/fe93ffd578c121fa78226ca9339e393d.jpg","https://i.pinimg.com/736x/1c/b6/af/1cb6afc7ab42ba461e8dc71021da15a5.jpg","https://i.pinimg.com/736x/16/82/72/16827202b5a48f81dc1de5c01a29d3de.jpg"],935541271955:["https://i.pinimg.com/736x/ce/c6/bb/cec6bbab5227629895ebcf960b2d2d8a.jpg","https://i.pinimg.com/474x/1e/6d/b0/1e6db06252a7431ea3a54d4f54af3141.jpg","https://i.pinimg.com/736x/c4/0a/d3/c40ad35ff3db8b429b81699ad405e7f5.jpg"],902065567321:["https://i.pinimg.com/736x/82/22/79/822279962e506149ad0dd464588e20ab.jpg","https://i.pinimg.com/736x/6a/2f/d2/6a2fd26b84f569e8fd59bfed430c5544.jpg","https://i.pinimg.com/736x/10/b1/04/10b104d160299537dba085690d1938ad.jpg"],934876475639:["https://i.pinimg.com/736x/2c/b1/15/2cb1152d542c095de62672ffd6b46510.jpg","https://i.pinimg.com/736x/b8/ef/96/b8ef9665cadd2a46cddb66dce7f5f387.jpg","https://i.pinimg.com/736x/b6/9c/bc/b69cbc3d00a99510312fd86b713dddae.jpg"],922134410098:["https://i.pinimg.com/736x/e0/5e/2a/e05e2a881bdbfeb8e875b508c325477d.jpg","https://i.pinimg.com/736x/4b/74/e8/4b74e8fd6468f3280c9c70f534c40e5a.jpg","https://i.pinimg.com/736x/f6/52/47/f65247cc683f018017702678ff0002f5.jpg"],960887632144:["https://i.pinimg.com/736x/45/56/f1/4556f1b1f4ee26c544784b02dc76fd7a.jpg","https://i.pinimg.com/474x/99/b3/dd/99b3dd50e46b4bfe246b876bca8fde1e.jpg","https://i.pinimg.com/736x/87/ab/cc/87abccdc50bddbeefd47a173c7451994.jpg"],941870572865:["https://i.pinimg.com/736x/7c/da/24/7cda24c6fdde4acda9d57276db1a448f.jpg","https://i.pinimg.com/736x/bb/a3/5e/bba35e8c7242dfcc0b5f64f0fda1ce8a.jpg","https://i.pinimg.com/736x/fe/ec/41/feec410a00c73251edb48513963fd60f.jpg"],913207199297:["https://i.pinimg.com/736x/95/b8/85/95b885d9060b859546d3e0e37bae9a0a.jpg","https://i.pinimg.com/736x/f7/c5/74/f7c5742e998ada98aec2eb956a530334.jpg","https://i.pinimg.com/736x/49/7d/ae/497dae1db155fd4bbb45aa4ed03d1017.jpg"],918530398158:["https://i.pinimg.com/736x/c3/05/70/c30570722a457e0c669090e8768cbe03.jpg","https://i.pinimg.com/736x/cd/f1/a9/cdf1a9a27723f618b6d7c1fd6ccfdaf4.jpg","https://i.pinimg.com/736x/46/09/19/460919e9412805fe559fd00a71d33343.jpg"],909983286710:["https://i.pinimg.com/736x/f6/7f/69/f67f692cfa3d87f0a73d2b3704746692.jpg","https://i.pinimg.com/736x/1c/1d/bf/1c1dbf33623dcccbda4d1d02d2907307.jpg","https://i.pinimg.com/736x/c9/fe/62/c9fe628675c52ec3664e83c6cb83745c.jpg"],935249274030:["https://i.pinimg.com/736x/54/17/bf/5417bf3eca58dd46709f16a8ec91faaa.jpg","https://i.pinimg.com/736x/b3/5f/c8/b35fc8e3bf39f5e117803529a2f0aee9.jpg","https://i.pinimg.com/736x/2b/1e/24/2b1e2444e3ff7663297726e599a86e2a.jpg"],924581335376:["https://i.pinimg.com/736x/8e/e7/75/8ee77541a4223ba444d8074725fbe569.jpg","https://i.pinimg.com/736x/26/2a/47/262a479e0d721d7075a3027d36415447.jpg","https://i.pinimg.com/736x/33/7a/65/337a65b88ef919bd7862414c291c51e5.jpg"],948192800438:["https://i.pinimg.com/736x/79/21/16/792116cfa25a90e7d0a167e6ad8949de.jpg","https://i.pinimg.com/736x/29/b1/51/29b1511791cf23715f837bd210d84851.jpg","https://i.pinimg.com/736x/2f/af/88/2faf88380712b3f3cf57d63301c9d563.jpg"],922203297757:["https://i.pinimg.com/736x/41/e9/79/41e979a693316d2f14f79d7b7ebaeb94.jpg","https://i.pinimg.com/736x/fc/9e/78/fc9e78d93518f47d383929ac91ebc73b.jpg","https://i.pinimg.com/736x/62/b4/4a/62b44a7007986e09cb237d72b4099243.jpg"],908182459161:["https://i.pinimg.com/736x/77/7c/a6/777ca6e171dda089388fc67f2260b640.jpg","https://i.pinimg.com/736x/30/40/70/304070b957f471c351766f707b551b12.jpg","https://i.pinimg.com/736x/0d/a5/fa/0da5fad3cc30defb24afc79197aa4657.jpg"],918093243960:["https://i.pinimg.com/736x/de/de/4e/dede4e33e2af6d1b68d1b12110378162.jpg","https://i.pinimg.com/736x/e8/82/64/e882641337980849c09d9cb3f41a67d0.jpg","https://i.pinimg.com/736x/15/d1/96/15d1963327ac5ef4bcbc467a09777c16.jpg"],903260720461:["https://i.pinimg.com/736x/59/a1/25/59a125b8cc2dc776c1822feb323a3fe8.jpg","https://i.pinimg.com/736x/40/fc/d9/40fcd967d56c2cdacbeecc3cdc652e0e.jpg","https://i.pinimg.com/736x/dc/bc/71/dcbc71da896bef583f092004e07792fc.jpg"],948967005229:["https://i.pinimg.com/736x/39/69/9f/39699f6073044613d1244a1782362235.jpg","https://i.pinimg.com/736x/73/db/4d/73db4d7ade6ab5e8763e7d403163b0e8.jpg","https://i.pinimg.com/736x/7c/9e/99/7c9e99f9d99eaef8e3cc14de0ea8075c.jpg"]},u=(e,t)=>{const n=Array(3).fill(),o=t?210:155;return(0,d.jsxs)(l.xu,{"aria-hidden":!0,display:"flex",direction:"row",width:"100%",marginBottom:4,children:[(0,d.jsx)(l.sg,{span:3,children:(0,d.jsx)(l.xu,{position:"relative",height:o,width:o,children:n.map(((t,n)=>{const i=e[n];return(0,d.jsx)(l.xu,{color:"lightGray",dangerouslySetInlineStyle:{__style:{paddingBottom:"100%",borderRadius:16,transform:`translateX(${5*n}%) translateY(${5*n}%)`,zIndex:100-n}},left:!0,position:0===n?"relative":"absolute",top:!0,width:"100%",children:(0,d.jsxs)(l.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid white",borderRadius:16}},overflow:"hidden",children:[(0,d.jsx)(l.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:1,naturalWidth:1,src:i}),(0,d.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:16}},display:"flex",height:o,width:o,justifyContent:"center",left:!0,position:"absolute",top:!0,children:0===n&&(0,d.jsx)(l.xu,{rounding:"pill",color:"white",paddingX:3,paddingY:3,children:(0,d.jsx)(l.xv,{align:"center",size:"md",weight:"bold",children:"Explore"})})})]})},n)}))})}),(0,d.jsx)(l.sg,{span:3})]})};function h({interest:e,isDesktop:t}){var n,o;const i=(0,r.ZP)(),h=(null===(n=e.url)||void 0===n?void 0:n.split("/")[3])||"",p=(null===(o=e.url)||void 0===o?void 0:o.split("/")[2])||"",m=h&&c[h]||[],g=(e.name||"").replace("And","and");return m&&m.length>0&&(0,d.jsxs)(l.xu,{display:"flex",direction:"column",padding:1,marginBottom:1,children:[(0,d.jsx)(l.xu,{marginBottom:2,children:(0,d.jsx)(l.xv,{size:t?"md":"sm",weight:"bold",align:"center",children:(0,s.nk)(i._("{{ interestName }} articles you might love","Title of suggesting articles module in the pin feeds.","unauth.relatedPins.suggested_articles"),{interestName:g})})}),(0,d.jsx)(l.rU,{onClick:()=>{(0,a.tj)("mweb.unauth.suggested_articles.plp.touch",{interest:e.name}),(0,a.LW)({action:"click",page:"pin",item:"suggested-articles-link"})},href:`/today/popular/${p}/${h}/`||"",rounding:2,tapStyle:"compress",inline:!1,hoverStyle:"none",children:u(m,t)})]})}var p=n(358152),m=n(933567);function g({activeTabIndex:e,setActiveTabIndex:t}){const n=(0,r.ZP)(),o=[{href:"",text:n._("Pins","mweb.unauth.plp.related_tabs.pins","Related pins tab")},{href:"",text:n._("Articles","mweb.unauth.plp.related_tabs.articles","Related articles tab")},{href:"",text:n._("Creators","mweb.unauth.plp.related_tabs.creators","Related creators tab")}];return(0,d.jsx)(l.kC,{alignItems:"center",direction:"column",gap:4,children:(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.mQ,{bgColor:"transparent",activeTabIndex:e,onChange:({activeTabIndex:e,event:n})=>{n.preventDefault(),t(e),(0,a.ZP)(`mweb.unauth.plp.related_tabs.index_${o[e].text}`)},tabs:o})})})}var f=n(18562),x=n(648228),b=n(87075),y=n(796821);const v=({header:e,feed:t,storyModules:n,onRelatedPinsTitleEnter:i,onRelatedPinsTitleExit:r,relatedPinsTitleRef:s})=>{const a=(0,b.Z)(),c=(0,y.HG)(),u=c?2:void 0;return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(l.xu,{height:c?32:0}),a.isHidden?(0,d.jsxs)(l.xu,{paddingX:u,"data-layout-shift-boundary-id":"UnauthRelatedPinsWithoutDrawer","data-test-id":"related-pins-without-drawer",children:[n,(0,d.jsx)(l.xu,{ref:s,children:(0,d.jsx)(x.Z,{onEnter:i,onExit:r,children:e})}),t]}):(0,d.jsx)(f.Z,{children:(0,d.jsxs)(l.xu,{paddingX:u,children:[e,t]})})]})};var j=n(151101),_=n(553431),w=n(302199),S=n(964964);const C={shortform:!0,shortform_maximum_fraction_digits:1};function I({pinId:e}){const t=(0,r.ZP)(),n=(0,w.Z)(),{isFetching:o}=(0,S.Wf)({name:"PinResource",options:{id:e,field_set_key:"detailed"}}),s=(0,i.useSelector)((({pins:t})=>t[e])),c=(0,i.useSelector)((({session:e})=>e.locale)),{images:u,id:h}=s||{},p=(0,i.useSelector)((({users:e})=>s?e[s.native_creator]:{})),m=u&&(u["236x"]||u["474x"])||null,{username:g,full_name:f,first_name:x,image_medium_url:b,follower_count:y}=p;return!o&&m&&p?(0,d.jsxs)(l.xu,{display:"flex",direction:"column",justifyContent:"center",marginEnd:2,paddingY:2,children:[(0,d.jsxs)(_.Z,{to:`/pin/${h}`,rounding:4,pressState:"background",onTouch:()=>(0,a.My)("mweb.unauth.suggested_creators.pin.touch"),children:[(0,d.jsx)(l.xu,{height:250,rounding:4,children:(0,d.jsx)(l.zd,{width:"100%",height:"100%",rounding:4,wash:!0,children:(0,d.jsx)(l.Ee,{alt:g,fit:"cover",naturalHeight:m.height,naturalWidth:m.width,src:m.url})})}),(0,d.jsx)(l.xu,{display:"flex",direction:"column",alignItems:"center",marginTop:-8,marginBottom:2,children:(0,d.jsx)(j.Z,{outline:!0,name:f||x,size:"lg",src:b})})]}),(0,d.jsx)(_.Z,{to:`/${g}/`,rounding:2,pressState:"background",onTouch:()=>(0,a.My)("mweb.unauth.suggested_creators.creator.touch"),children:(0,d.jsxs)(l.xu,{children:[(0,d.jsx)(l.xu,{marginBottom:1,children:(0,d.jsx)(l.xv,{weight:"bold",align:"center",size:"sm",lineClamp:1,children:f||x})}),(0,d.jsxs)(l.xv,{align:"center",size:"sm",lineClamp:1,children:[`${n(c,y||0,C)} `,t._("followers","followers label","followers label")]})]})})]}):null}var k=n(352645),P=n(311866);function T({interestId:e}){const t=(0,r.ZP)(),[n,i]=(0,o.useState)(!1),[s,a]=(0,o.useState)([]);return(0,o.useEffect)((()=>{e&&(e=>{i(!0),P.ZP.create("ApiResource",{url:`/v3/interests/${e}/ideas/creator_pins/`,field_set_key:"detailed"}).callGet().then((e=>{var t;i(!1),a((null==e||null===(t=e.resource_response)||void 0===t?void 0:t.data)||[])})).catch((()=>i(!1)))})(e)}),[e]),n||0!==s.length?(0,d.jsxs)(l.xu,{display:"flex",alignContent:"center",direction:"column","data-test-id":"suggested-creators",rounding:4,paddingX:4,minHeight:300,children:[(0,d.jsx)(l.$j,{accessibilityLabel:t._("Loading user list","Accessibility lable for user list spinner","Accessibility lable for user list spinner"),show:n}),!n&&s.length>0&&(0,d.jsx)(k.Z,{comp:({data:e})=>(0,d.jsx)(l.xu,{minHeight:340,marginBottom:2,children:(0,d.jsx)(I,{pinId:e.id},e.id)}),items:s,minCols:2})]}):null}var B=n(414653),E=n(737990),Z=n(287954),R=n(785112),A=n(912397),O=n(181307),M=n(723612),N=n(158961);const $={id:"interestLinks",type:"interestLinks"},L={id:"articlesLink",type:"articlesLink"},D=(e,t)=>({item:$,content:(0,d.jsx)(m.Z,{interests:e,titleSize:t?"md":"sm"}),position:10}),z=(e,t)=>({item:L,content:(0,d.jsx)(h,{interest:e,isDesktop:t})}),F=({pin:e,resource:t,enableSuggestArticlesFeed:n})=>{var i,r,s;const a=(0,y.HG)(),[l,c]=(0,o.useState)(0),u=(0,N.g)(),h=null==u?void 0:u.showSignupModal,p=(null===(i=e.pin_join)||void 0===i||null===(r=i.seo_related_interests)||void 0===r?void 0:r.slice(0,5))||[],m=(null===(s=e.pin_join)||void 0===s?void 0:s.seo_breadcrumbs)||[],[g]=m||[];return(0,d.jsx)(Z.iK,{prepend:n&&g?z(g,a):void 0,breakIn:p&&p.length>0?D(p,a):void 0,feedKey:`related-pins:${e.id}`,trafficSource:"pin",resource:t,feedItemProps:{componentType:13007,objectIdStr:e.id,viewData:{pin_id:e.id},viewParameter:(0,R.CK)(e),viewType:3,showSeoMetadata:!0,onPinLinkClick:h?e=>{l>2?(e&&e.preventDefault(),h("signup",{source:"saveButton",container:A.s7}),c(1)):c(l+1)}:void 0},serverRender:!0})},H=({hideMainPin:e})=>{const t=(0,r.ZP)();return e?t._("More ideas","mobilePinPage.relatedPins.title","On mobile web pin page, title for related pins"):t._("More like this","mobilePinPage.relatedPins.title","On mobile web pin page, title for related pins beneath pin closeup")},U=({storyId:e})=>{const t=(0,i.useSelector)((({stories:t})=>t[e])),{story_type:n,title:o}=t;return n.startsWith("SKIN_TONE_FILTER_QUERIES")?(0,d.jsx)(l.xu,{marginBottom:8,children:(0,d.jsx)(p.Z,{title:o})},`related-module-${e}`):null};function W({hideMainPin:e,interestId:t,onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:r,pin:s,relatedPinsTitleRef:a,relatedTabsExpGroup:c,resource:u}){const{clientTrackingParams:h,viewParameter:p}=(0,M.Rf)(),m=(0,i.useSelector)((({feeds:e})=>e[`related-pins:${s.id}`])),{group:f=""}=(0,O.tc)("ag_skin_tone_filter_search_queries_on_p2p_mweb_unauth")({dangerouslySkipActivation:!0}),{anyEnabled:x}=(0,O.tc)("mweb_suggest_articles_in_feed")(),b=(null==c?void 0:c.startsWith("enabled"))&&!!t,[y,j]=(0,o.useState)(0);return(0,d.jsx)(v,{header:(0,d.jsx)(l.xu,{justifyContent:"center",display:"flex",marginTop:4,marginBottom:b?void 0:4,id:"relatedPins","data-test-id":"related-pins-header",children:(0,d.jsx)(l.X6,{size:"sm",accessibilityLevel:2,children:(0,d.jsx)(H,{hideMainPin:e})})}),storyModules:f.startsWith("enabled")?(Array.isArray(m)?m:[]).filter((({type:e})=>"story"===e)).slice(0,1).map((({id:e})=>(0,d.jsx)(U,{storyId:e},`story-module-${e}`))):null,feed:(0,d.jsxs)(o.Fragment,{children:[b&&(0,d.jsx)(g,{activeTabIndex:y,setActiveTabIndex:j}),(b&&0===y||!b)&&(0,d.jsx)(B.Z,{viewParameter:p,component:86,clientTrackingParams:h,children:(0,d.jsx)(l.xu,{"data-test-id":"relatedPins",children:(0,d.jsx)(F,{pin:s,resource:u,enableSuggestArticlesFeed:x})})}),b&&(0,d.jsxs)(l.xu,{minHeight:680,children:[1===y&&(0,d.jsx)(E.Z,{interestId:t||""}),2===y&&(0,d.jsx)(T,{interestId:t})]})]}),onRelatedPinsTitleEnter:n,onRelatedPinsTitleExit:r,relatedPinsTitleRef:a})}},747682:(e,t,n)=>{n.d(t,{CB:()=>s,Ph:()=>a,si:()=>l});var o=n(40142),i=n(19629),r=n(796821);const s=e=>{const{pinId:t}=(0,i.Z)(e);return(0,o.useSelector)((({pins:e})=>e[t]))},a=e=>(0,o.useSelector)((({users:t})=>e&&e.promoter&&!e.is_downstream_promotion?t[e.promoter]:null)),l=()=>"phone"!==(0,r.ZP)()?180:130},563776:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(667294),i=n(40142),r=n(153010),s=n(590307),a=n(785893);const l=[502321,502322];class d extends o.Component{componentDidMount(){const{experience:e,completeExperience:t}=this.props;e&&l.includes(e.experience_id)&&t(e.placement_id,e.experience_id,!0)}render(){return(0,a.jsx)(r.Z,{experience:this.props.experience,eligibleIds:l,children:(0,a.jsx)("span",{})})}}const c=(0,i.connect)(null,((e,t)=>({completeExperience:(t,n,o)=>e((0,s.CK)(t,n,o))})))(d)},809525:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(153010),i=n(459123),r=n(785893);const s=({anchors:e,experience:t,idealDirection:n,onCompleteByAnchor:s={},placementId:a,positionRelativeToAnchor:l,touchToDismiss:d,useMasonryFlyout:c})=>(0,r.jsx)(o.Z,{experience:t,placementId:a,predicate:t=>{const{display_data:n,placement_id:o}=t;if(2===(null==n?void 0:n.component_type)){const{anchors_by_platform:t}=n;if(null!=t&&t.web_mobile){const{anchor:n,placement:i}=t.web_mobile;return i===o&&n in e}}return!1},children:({complete:t,dismiss:o,experience:a})=>(0,r.jsx)(i.Z,{anchors:e,complete:()=>t(1),dismiss:o,displayData:null==a?void 0:a.display_data,idealDirection:n,onCompleteByAnchor:s,platform:"web_mobile",positionRelativeToAnchor:l,touchToDismiss:d,useMasonryFlyout:c})})},479776:(e,t,n)=>{n.d(t,{t:()=>o,N:()=>i});const o=0,i=1},379801:(e,t,n)=>{n.r(t),n.d(t,{BoardRelatedInterestUpsellContainer:()=>E,MIN_NUM_OF_INTERESTS_FOR_BOARD:()=>B,NUMBER_OF_INTERESTS:()=>T,default:()=>Z});var o=n(667294),i=n(40142),r=n(855283),s=n(174523),a=n(302199),l=n(946753),d=n(213162),c=n(709107),u=n(903945),h=n(652382),p=n(534435),m=n(855168),g=n(309970),f=n(964964),x=n(883119),b=n(915140),y=n(24309),v=n(785893);const j=({onComplete:e,pinId:t})=>{var n,j,_;const w=(0,s.ZP)(),S=(0,a.Z)(),C=(0,i.useSelector)((e=>e.session.locale)),[I,k]=(0,o.useState)(!1),[P,T]=(0,o.useState)(!1),{isNavFooterHiddenAfterScroll:B,setHomeFlyoutText:E,setShowHomeBadge:Z,setShowHomeFlyoutWithButton:R}=(0,g.UY)();(0,f.Wf)({name:"PinInterestsResource",options:{hideFollowed:!0,limit:1,pinId:t}});const A=(0,i.useSelector)((({session:e})=>e.isTablet)),O=(0,i.useSelector)((({pins:e,topics:n})=>{var o;const i=null===(o=e[t].related_interest_ids)||void 0===o?void 0:o[0];return i&&n[i]||null})),{background_color:M,follower_count:N,id:$,images:L,is_followed:D,name:z}=O||{},F=(L||{})["400x"],H=(0,o.useRef)(),U=(0,o.useRef)(),W=(0,o.useRef)(),Y=(0,i.useDispatch)(),X=(0,m.k6)();(0,o.useEffect)((()=>(O&&((0,u.Nh)("lastViewedMiniRenux",Date.now()),(0,y.j)({event_type:9025,view_type:3,component:39,element:216,aux_data:{interest:z,interest_id:$,pin_id:t}}),T(!0),W.current=setTimeout((()=>{H.current||T(!1)}),1e4)),()=>{P&&e(),clearTimeout(H.current),clearTimeout(U.current),clearTimeout(W.current)})),[$]);return O?(0,v.jsx)(x.xu,{color:"white",padding:4,marginStart:4,marginEnd:4,onTransitionEnd:()=>{P||e(U.current?z:void 0)},rounding:6,width:A?425:"auto",dangerouslySetInlineStyle:{__style:{opacity:P?1:0,transform:P?"translate(0, -12px)":"",transition:"\n            translate 300ms ease-in-out, opacity 300ms ease-in-out\n          "}},children:(0,v.jsxs)(x.kC,{alignItems:"center",justifyContent:"between",children:[(0,v.jsx)(x.iP,{onTap:()=>{(0,y.So)({view_type:3,component:39,element:216,aux_data:{interest:z,interest_id:$,pin_id:t}})},children:(0,v.jsxs)(x.kC,{alignItems:"center",justifyContent:"start",children:[F?(0,v.jsx)(x.xu,{flex:"none",children:(0,v.jsx)(x.zd,{rounding:4,width:60,height:60,children:(0,v.jsx)(x.Ee,{alt:z,color:M,naturalWidth:null!==(n=F.width)&&void 0!==n?n:1,naturalHeight:null!==(j=F.height)&&void 0!==j?j:1,src:null!==(_=F.url)&&void 0!==_?_:""})})}):null,I?(0,v.jsx)(x.xu,{marginStart:4,marginEnd:4,children:(0,v.jsx)(x.xv,{size:"lg",children:(0,l.nk)(w._("We've updated your home feed with fresh ideas for {{ interestName }}","relatedInterests.upsell.image","Prompt users to go to home page after follow an interest"),{interestName:(0,v.jsx)(x.xv,{size:"lg",weight:"bold",inline:!0,children:(0,d.T_)(z,C)},z)})})}):(0,v.jsxs)(x.xu,{marginStart:4,marginEnd:4,children:[(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)(x.xv,{size:"lg",weight:"bold",children:z})}),N?(0,v.jsx)(x.xv,{size:"lg",children:(0,l.nk)(w.ngettext("{{followers}} follower","{{followers}} followers",N,"interest.attribution.followerCount","Count of an interest's followers"),{followers:S(C,N,{shortform:!0,shortform_maximum_fraction_digits:1})})}):null]})]})}),I?(0,v.jsx)(x.hU,{accessibilityLabel:w._("Go to home page","relatedInterests.upsell.arrowIcon","Icon button on related interests banner that prompt users to go to home page"),bgColor:"red",icon:"arrow-forward",iconColor:"white",onClick:()=>{(0,c.E)(!1),E(),Z(!1),R(!1),(0,y.So)({view_type:3,component:39,element:76,aux_data:{interest:z,interest_id:$,pin_id:t}}),X.push("/")},padding:3,size:"sm"}):(0,v.jsx)(r.Z,{auxData:{interest:z,interest_id:$,pin_id:t},id:$,inline:!0,size:"md",isFollowed:D,onFollow:e=>{(0,h.Nh)("completedMiniRenux",!0),Y((0,p.H5)(!0)),Y((0,b.ZN)(e,"mini_renux")),B?(H.current=setTimeout((()=>{k(!0)}),800),U.current=setTimeout((()=>{T(!1)}),5e3)):U.current=setTimeout((()=>{T(!1)}),800)},onUnfollow:e=>{(0,h.Nh)("completedMiniRenux",!1),Y((0,p.H5)(!1)),Y((0,b.fv)(e,"mini_renux")),H.current&&clearTimeout(H.current)},followEventType:601,unfollowEventType:602,viewParameter:155,viewType:3})]})}):null};var _=n(131546),w=n(181307),S=n(747682);const C={3:"pin_id",5:"board_id"},I=({image:e,objectId:t,onComplete:n,showRelatedInterestModal:r,viewType:a})=>{var l,d,c;const h=(0,s.ZP)(),[p,m]=(0,o.useState)(!1),g=(0,i.useSelector)((({session:e})=>e.isTablet)),f=(0,o.useRef)(),b=(0,o.useMemo)((()=>C[a]?{[C[a]]:t}:{}),[t,a]);(0,o.useEffect)((()=>((0,u.Nh)("lastViewedMiniRenux",Date.now()),(0,y.j)({event_type:9025,view_type:a,component:13822,aux_data:{...b}}),m(!0),f.current||(f.current=setTimeout((()=>{m(!1)}),1e4)),()=>{clearTimeout(f.current)})),[b,r,a]);return(0,v.jsx)(x.xu,{color:"white",padding:4,marginStart:4,marginEnd:4,onTransitionEnd:()=>{p||n()},rounding:6,width:g?425:"auto",dangerouslySetInlineStyle:{__style:{opacity:p?1:0,transform:p?"translate(0, -12px)":"",transition:"\n            translate 300ms ease-in-out, opacity 300ms ease-in-out\n          "}},children:(0,v.jsxs)(x.kC,{alignItems:"center",justifyContent:"between",children:[(0,v.jsx)(x.iP,{onTap:()=>{(0,y.So)({view_type:a,component:13822,aux_data:{...b}})},children:(0,v.jsxs)(x.kC,{alignItems:"center",justifyContent:"start",children:[e?(0,v.jsx)(x.xu,{flex:"none",children:(0,v.jsx)(x.zd,{rounding:4,width:60,height:60,children:(0,v.jsx)(x.Ee,{alt:h._("Image thumbnail on related interest upsell","relatedInterests.upsell.image","Alt info on thumbnail image on related interest upsell"),color:"white",naturalWidth:null!==(l=e.width)&&void 0!==l?l:1,naturalHeight:null!==(d=e.height)&&void 0!==d?d:1,src:null!==(c=e.url)&&void 0!==c?c:""})})}):null,(0,v.jsxs)(x.xu,{marginStart:4,marginEnd:4,children:[(0,v.jsx)(x.xu,{marginBottom:1,children:(0,v.jsx)(x.xv,{size:"sm",children:h._("Welcome back!","relatedInterests.upsell.header","Welcome header on related interests banner")})}),(0,v.jsx)(x.xv,{size:"lg",weight:"bold",children:h._("Tell us what you're into","relatedInterests.upsell.subheader","Subheader on related interests banner instructing users to select interests")})]})]})}),(0,v.jsx)(x.hU,{accessibilityLabel:h._("See related interests","relatedInterests.upsell.arrowIcon","Icon button on related interests banner that opens related interests modal"),bgColor:"red",icon:"arrow-forward",iconColor:"white",onClick:()=>{m(!1),r(!1),(0,y.So)({view_type:a,component:13822,element:96,aux_data:{...b}})},padding:3,size:"sm"})]})})},k=({numOfInterests:e,onComplete:t,pinId:n,showRelatedInterestModal:o})=>{var r;const s=(0,S.CB)(n),a=null==s||null===(r=s.images)||void 0===r?void 0:r["60x60"];(0,f.Wf)({name:"PinInterestsResource",options:{hideFollowed:!0,limit:e,pinId:n}});const l=(0,i.useSelector)((({pins:e,topics:t})=>{const o=e[n].related_interest_ids;return null==o?void 0:o.map((e=>t[e]))}));return(null==l?void 0:l.length)===e&&(0,v.jsx)(I,{image:a,objectId:n,onComplete:t,showRelatedInterestModal:o,viewType:3})},P=({numOfInterests:e,onComplete:t,boardId:n,showRelatedInterestModal:o})=>{const r=(0,i.useSelector)((({boards:e})=>e[n])),s=null==r?void 0:r.images["170x"][0];(0,f.Wf)({name:"ApiResource",options:{url:`/v3/boards/${n}/interests/`,data:{deduping_enabled:!0,hide_followed:!0,limit:e},field_sets:["interest.background_color","interest.follower_count","interest.id","interest.images[400x]","interest.is_followed","interest.name","interest.type","interest.url_name"]}});const a=(0,i.useSelector)((({boards:e,topics:t})=>{const o=e[n].related_interest_ids;return null==o?void 0:o.map((e=>t[e]))}));return a&&a.length>=B?(0,v.jsx)(I,{image:s,objectId:n,onComplete:t,showRelatedInterestModal:o,viewType:5}):null},T=6,B=3,E=({onComplete:e,boardId:t,showRelatedInterestModal:n})=>{const{anyEnabled:o}=(0,w.aq)("mweb_board_mini_renux"),{isNavFooterHiddenAfterScroll:i}=(0,g.UY)(),r=_.Z7+16,s={marginBottom:i?16:r,transition:"margin-bottom 300ms ease-in-out"};return(0,v.jsx)(x.xu,{display:"flex",justifyContent:"center",position:"fixed",left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:s},children:o&&(0,v.jsx)(P,{numOfInterests:T,onComplete:e,boardId:t,showRelatedInterestModal:n})})},Z=({onComplete:e,pinId:t,showRelatedInterestModal:n})=>{const{anyEnabled:o,group:i}=(0,w.aq)("mweb_mini_renux"),{isNavFooterHiddenAfterScroll:r}=(0,g.UY)(),s={marginBottom:r?16:_.Z7+16,transition:"margin-bottom 300ms ease-in-out"},a=o?Number(i.slice(-1)):NaN;return(0,v.jsxs)(x.xu,{display:"flex",justifyContent:"center",position:"fixed",left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:s},children:[1===a&&(0,v.jsx)(j,{onComplete:e,pinId:t}),a>1&&(0,v.jsx)(k,{numOfInterests:a,onComplete:e,pinId:t,showRelatedInterestModal:n})]})}},160850:(e,t,n)=>{n.d(t,{Z:()=>y});var o=n(667294),i=n(40142),r=n(288453),s=n(550343),a=n(174523),l=n(823536),d=n(652382),c=n(534435),u=n(855168),h=n(379801),p=n(883119),m=n(915140),g=n(24309),f=n(785893);const x={pin:3,board:5},b=(e,t,n)=>({view_type:x[e],component:39,aux_data:{interests:null==t?void 0:t.map((e=>e.id)),[`${e}_id`]:n}});const y=function({isMaskTransparent:e,objectId:t,onDismiss:n,type:x}){const y=(0,a.ZP)(),v=(0,i.useSelector)((({session:e})=>e.isTablet)),j=(0,l.rA)(window.innerWidth),_=(0,i.useDispatch)(),w=(0,u.k6)(),S="pin"===x?h.NUMBER_OF_INTERESTS:h.MIN_NUM_OF_INTERESTS_FOR_BOARD,C=(0,i.useSelector)((({boards:e,pins:n,topics:o})=>{const i="pin"===x?n[t].related_interest_ids:e[t].related_interest_ids;return null==i?void 0:i.map((e=>o[e]))})),I=(null==C?void 0:C.length)||0;(0,o.useEffect)((()=>{I>=S&&(0,g.j)({...b(x,C,t),event_type:9025})}),[S,t,I,x,C]);const k=(0,o.useCallback)(((e,t)=>{t?_((0,m.fv)(e,"mini_renux")):((0,d.Nh)("completedMiniRenux",!0),_((0,m.ZN)(e,"mini_renux")))}),[]),P=(0,o.useCallback)((()=>{n(),(0,g.So)({...b(x,C,t),element:12284})}),[n,x,C,t]),T=(0,o.useCallback)((()=>{n(),(0,g.So)({...b(x,C,t),element:11925})}),[n,x,C,t]),B=(0,o.useCallback)((()=>{_((0,c.H5)(!0)),w.push("/"),(0,g.So)({...b(x,C,t),element:76})}),[w,t,C]);return I>=S?(0,f.jsxs)(r.Z,{hideCloseIcon:!0,isLegoModal:!0,isOpen:!0,isSlideUp:!0,isMaskTransparent:e,isTablet:v,onDismiss:P,type:"related_interests_modal",children:[(0,f.jsxs)(p.xu,{flex:"grow",display:"flex",alignItems:"baseline",margin:-1,children:[(0,f.jsx)(p.kC,{alignItems:"center",justifyContent:"start",children:(0,f.jsx)(p.hU,{accessibilityLabel:y._("Close modal","relatedInterests.modal.close","Close related interests modal icon button"),iconColor:"darkGray",icon:"cancel",onClick:T,padding:4,size:"sm"})}),(0,f.jsx)(p.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginStart:0,marginEnd:12,children:(0,f.jsx)(p.xv,{align:"center",size:"sm",children:y._("Welcome back!","relatedInterests.modal.header","Welcome header on related interests banner")})})]}),(0,f.jsx)(p.xu,{children:(0,f.jsx)(p.xv,{size:"lg",weight:"bold",align:"center",children:y._("Tell us what else you're interested in","relatedInterests.modal.subheader","Subheader on realted interests banner instructing users to select interests")})}),(0,f.jsx)(p.xu,{display:"flex",alignItems:"center",justifyContent:"center",paddingY:3,wrap:!0,children:null==C?void 0:C.map((e=>(0,f.jsx)(p.xu,{padding:1,children:(0,f.jsx)(p.iP,{tapStyle:"compress",rounding:"pill",onTap:()=>{k(e.id,e.is_followed)},children:(0,f.jsx)(s.Z,{decreaseNamePadding:j,id:e.id,isLego:!0,isSelected:e.is_followed,nameTextSize:"sm",renderAsPill:!0,topicBlob:e,viewParameter:155,viewType:3})})},e.id)))}),(0,f.jsx)(p.xu,{display:"flex",justifyContent:"center",paddingX:2,children:(0,f.jsx)(p.zx,{fullWidth:!0,accessibilityLabel:y._("See your new home feed","relatedInterests.modal.seeHomefeed","Submit selected topics and go to updated homefeed button"),color:"red",disabled:!(null==C?void 0:C.some((e=>e.is_followed))),onClick:B,text:y._("See your new home feed","relatedInterests.modal.seeHomefeed","Submit selected topics and go to updated homefeed button"),size:"lg"})})]}):null}},927273:(e,t,n)=>{n.d(t,{v:()=>i});var o=n(903945);const i=()=>{const e=(0,o.qn)("lastViewedMiniRenux");return!!e&&Date.now()-Number(e)<2592e5}},860370:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(40142),i=n(171456),r=n(641483),s=n(174523),a=n(382745),l=n(392280),d=n(24309),c=n(855168),u=n(785893);function h({alignIconLeft:e,bgColor:t,color:n,disableRedirect:h=!1,fallbackUrl:p,icon:m="arrow-back",onTouch:g,padding:f,placement:x,shouldUseFallbackUrl:b,size:y="lg",viewParameter:v,viewType:j}){const _=(0,s.ZP)(),w=(0,c.k6)(),S=(0,c.TH)(),C=(0,o.useSelector)((e=>e.session.isAuthenticated));return(0,u.jsx)(i.ZP,{accessibilityLabel:_._("Back","navigation button","navigation button"),bgColor:t,color:n,icon:m,onTouch:()=>{if((0,l.y3)({action:"back_button_click",placement:x,isAuthenticated:C}),j&&v&&(0,d.So)({view_type:j,view_parameter:v,element:34}),g&&g(),!h){const e=(0,a.Qx)(document.referrer);!e&&(!S.key||S.state&&"redirect"===S.state.referrer||b)&&p?w.replace(p):e?((0,r.ZP)("unauth.backButton.sendToDuploNotAmp"),w.replace(e)):S.pathname.includes("/password/reset/")&&S.search&&S.search.includes("?nativeShouldDismiss=true")?w.push("/login/?dismissWebview=true"):w.goBack()}},padding:f||2,size:y,containerStyle:e?{display:"flex",alignItems:"center",marginLeft:"cancel"===m?"-4px":"-8px",width:"48px",height:"48px"}:{}})}},38202:(e,t,n)=>{n.r(t),n.d(t,{ShareMenu:()=>A,default:()=>O});var o=n(667294),i=n(772077),r=n(151101),s=n(731164),a=n(881794),l=n(708206),d=n(242481),c=n(174523),u=n(375943),h=n(883119),p=n(855168),m=n(785893);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends o.PureComponent{constructor(...e){super(...e),g(this,"state",{viewConversation:!1,isSent:!1,path:""}),g(this,"renderViewConversationButton",(()=>{const{viewConversation:e}=this.state;return e?(0,m.jsxs)(h.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,m.jsx)(h.zx,{fullWidth:!0,size:"sm",text:this.props.i18n._("View chat","View current chat","View current chat"),color:"white",onClick:()=>{this.onViewConversation()}}),(0,m.jsx)(h.JO,{icon:"arrow-forward",color:"darkGray",accessibilityLabel:this.props.i18n._("View chat","View current chat","View current chat")})]}):(0,m.jsxs)(h.kC,{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:[(0,m.jsx)(h.xu,{marginEnd:2,children:(0,m.jsx)(h.JO,{icon:"check",color:"darkGray",accessibilityLabel:this.props.i18n._("sent","content is sent","content is sent")})}),(0,m.jsx)(h.xu,{marginEnd:2,children:(0,m.jsx)(h.xv,{size:"lg",color:"gray",weight:"bold",children:this.props.i18n._("Sent","mweb.sharemenu.contactItem.isSent","Text notification indicating a Pin has been sent to a pinner")})})]})})),g(this,"onViewConversation",(()=>{const{path:e}=this.state;s.Z.increment("mweb_sharesheet_view_conversation",1),this.props.history.push(e)})),g(this,"onInlineSend",this.props.requireAuthForLimitedLogin({fn:()=>{const e={1:"pin",2:"board",3:"user",8:"today_article"},{createConversation:t,recipient:n,sendObject:o}=this.props,i=e[o.objectType];this.setState({isSent:!0}),t({user_ids:[n.id,this.props.userId],[i]:o.objectId}).then((e=>{this.setState({path:`/conversation/${e}`,viewConversation:!0}),s.Z.increment("mweb_sharesheet.inline_send",1,{success:!0})})).catch((e=>{this.setState({isSent:!1}),s.Z.increment("mweb_sharesheet.inline_send",1,{success:!1,error:e})}))}}))}render(){const{recipient:e}=this.props,{isSent:t}=this.state;return(0,m.jsxs)(h.xu,{position:"relative",direction:"row",display:"flex",width:"100%",alignItems:"center",justifyContent:"between",paddingY:2,children:[e&&(0,m.jsx)(h.xu,{children:(0,m.jsx)(r.Z,{size:"md",src:e.image_large_url,name:e.full_name})}),(0,m.jsx)(h.xu,{paddingX:2,flex:"grow",maxWidth:"71%",children:(0,m.jsx)(h.xv,{lineClamp:1,weight:"bold",children:e.full_name})}),(0,m.jsx)(h.xu,{right:!0,flex:"none",maxWidth:"100%",children:t?this.renderViewConversationButton():(0,m.jsx)(h.zx,{fullWidth:!0,size:"lg",color:"red",text:this.props.i18n._("Send","Send current content","Send current content"),onClick:()=>{this.onInlineSend()}})})]})}}const x=(0,l.compose)(p.EN,(0,a.Z)({name:"ConversationsResource",key:"resource",options:({user_ids:e})=>({user_ids:e}),mapDispatch:e=>({createConversation:t=>e((0,d.Xw)(t))})}))((function(e){const t=(0,c.ZP)(),n=(0,u.Z)();return(0,m.jsx)(f,{...e,i18n:t,requireAuthForLimitedLogin:n})}));var b=n(3604),y=n(96908),v=n(311866),j=n(823493),_=n.n(j),w=n(442975),S=n(250766),C=n(24309);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class P extends o.PureComponent{componentDidUpdate(e){const{fetching:t}=e,{value:n}=this.state,o=t&&!this.props.fetching,i=this.getContactSuggestions();if(!n&&o){const e=i.length>0?7511:7512;(0,C.j)({event_type:e,view_type:70,view_parameter:256})}}constructor(e){super(e),I(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[],loadingDefaultSuggestions:!0}),I(this,"onSearchChange",(({value:e})=>{const{userId:t,searchContacts:n}=this.props,o={options:{user:t,term:e}};this.setState({value:e},n(o))})),I(this,"getContactSuggestions",(()=>{const{suggestions:e,userId:t,users:n}=this.props,{value:o,defaultSuggestions:i}=this.state;if(!o)return i.filter((e=>n[e.id]))||[];const r=`share-suggestions:${t}:${o}`,s=`share-suggestions:${t}:${o.slice(0,-1)}`;return e[r]||e[s]||[]})),I(this,"renderContactSuggestions",(()=>{const{fetching:e,users:t,sendObject:n,userId:o,isFullHeight:i}=this.props,{loadingDefaultSuggestions:r}=this.state,s=this.getContactSuggestions(),a=Math.min(s.length,4),l=i?"100%":`calc(8.5vh * ${a})`;return e||r?(0,m.jsx)(h.xu,{paddingY:2,height:l,children:(0,m.jsx)(h.$j,{show:!0,accessibilityLabel:this.props.i18n._("Searching for contacts","Placeholder text for spinner on share menu","Placeholder text for spinner on share menu")})}):0===s.length?i&&(0,m.jsx)(h.xu,{marginTop:3,children:(0,m.jsx)(h.xv,{align:"center",children:this.props.i18n._("Sorry, we can't find anyone by that name.","Text to show empty state when a contact can not be found","Text to show empty state when a contact can not be found")})}):(0,m.jsx)(h.xu,{height:l,paddingX:4,children:s.map((e=>(0,m.jsx)(x,{recipient:t[e.id],sendObject:n,userId:o},e.id)))})})),this.scrollerRef=(0,o.createRef)()}componentDidMount(){v.ZP.create("ShareSuggestionsResource",{suggestion_type:"share",hide_group_conversations:!0}).callGet().then((e=>{var t;const n=null===(t=e.resource_response)||void 0===t?void 0:t.data;this.setState({loadingDefaultSuggestions:!1,defaultSuggestions:n})})).catch((e=>{s.Z.increment("mweb_share_menu_load_suggestions.fail.share",1)}))}render(){const{showScrollShadow:e}=this.state,{isFullHeight:t,expandContactsList:n}=this.props,o=_()((()=>{const e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})}),100);return(0,m.jsxs)(h.xu,{color:"white",display:"flex",direction:"column",paddingX:0,height:"90%",children:[(0,m.jsx)(h.xu,{paddingY:2,color:"white",paddingX:4,dangerouslySetInlineStyle:{__style:e?k:null},children:(0,m.jsx)(y.Z,{accessibilityLabel:this.props.i18n._("search contact","Accessibility label for searchbar on share menu","Accessibility label for searchbar on share menu"),id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:n,placeholder:this.props.i18n._("Search by name or email","Placeholder text for searchbar on share menu","Placeholder text for searchbar on share menu"),value:this.state.value,autoFocus:t})}),(0,m.jsx)(h.xu,{display:"flex",direction:"column",paddingY:1,overflow:"scrollY",onScroll:o,ref:this.scrollerRef,children:this.renderContactSuggestions()})]})}}const T=(0,a.Z)({name:"ShareSuggestionsTypeaheadResource",key:"shareSuggestionsTypeaheadResource",options:({userId:e})=>({term:"",user:e}),mapState:(e,t)=>({conversations:e.conversations,fetching:Object.keys(e.resources.ShareSuggestionsTypeaheadResource||{}).some((t=>e.resources.ShareSuggestionsTypeaheadResource[t].fetching)),suggestions:(0,S.oF)(e,t),userId:e.session.userId,users:e.users}),mapDispatch:e=>({searchContacts:t=>{(0,b.Z)(e((0,w.U2)("ShareSuggestionsTypeaheadResource",t)),200)}})})((function(e){const t=(0,c.ZP)();return(0,m.jsx)(P,{...e,i18n:t})}));var B=n(52676),E=n(288453);const Z=({heading:e,onDismiss:t})=>{const n=(0,c.ZP)();return(0,m.jsxs)(h.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,m.jsx)(h.xu,{display:"flex",alignItems:"center",padding:1,children:(0,m.jsx)(h.hU,{accessibilityLabel:n._("Close","close share menu","close share menu"),icon:"cancel",onClick:t,size:"sm",iconColor:"darkGray",padding:4})}),(0,m.jsx)(h.xu,{display:"flex",flex:"grow",alignItems:"center",justifyContent:"center",marginEnd:12,children:(0,m.jsx)(h.xv,{align:"center",weight:"bold",children:(0,m.jsx)("span",{className:"deprecatedTextSizeXL",children:e})})})]})},R=({objectType:e,children:t,isOpen:n,onDismiss:o,childPaddingX:i=3,shouldRenderFullHeight:r})=>{const s=(0,c.ZP)(),a=s._("Share this Pin","social media sharing","social media sharing");let l=r?s._("Send on Pinterest","Heading for share contacts search","Heading for share contacts search"):a;2===e?l=s._("Share this Board","social media sharing","social media sharing"):3===e?l=s._("Share this Profile","social media sharing","social media sharing"):8===e&&(l=s._("Share this article","share_menu.header.share_this_article","header on share menu for sharing today article"));const d={accessibilityCloseIconLabel:s._("close send modal"),heading:l,isOpen:n,onDismiss:o,childPaddingX:i,type:"share_menu",childPaddingY:0};return r?(0,m.jsxs)(B.Z,{isOpen:n,onDismiss:o,pauseImpression:!1,children:[(0,m.jsx)(Z,{heading:l,onDismiss:o}),t]}):(0,m.jsx)(E.Z,{...d,children:t})},A=({isOpen:e,onDismiss:t,objectType:n,objectId:r,experience:a,hideContactsSuggestions:l})=>{const[d,c]=(0,o.useState)(!1);(0,o.useEffect)((()=>{e&&(0,C.j)({event_type:7120,object_id_str:r,view_type:70,view_parameter:256})}),[e]);return(0,m.jsxs)(R,{objectType:n,isOpen:e,onDismiss:d?()=>{c(!1),s.Z.increment("mweb_sharesheet.contacts.collapse",1)}:t,shouldRenderFullHeight:d,childPaddingX:0,children:[!d&&(0,m.jsx)(i.Z,{objectId:r,objectType:n,onDismiss:t,experience:a}),(d||!l)&&(0,m.jsx)(T,{sendObject:{objectId:r,objectType:n},expandContactsList:()=>{c(!0),s.Z.increment("mweb_sharesheet.contacts.expand",1)},isFullHeight:d})]})},O=A},96908:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(667294),i=n(883119),r=n(785893);class s extends o.Component{constructor(...e){var t,n,o;super(...e),o=e=>{e&&(this.searchRef=e)},(n="setSearchRef")in(t=this)?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o}componentDidMount(){this.props.autoFocus&&this.searchRef.focus()}render(){const{accessibilityLabel:e,id:t,onBlur:n,onChange:o,onFocus:s,placeholder:a,value:l}=this.props;return(0,r.jsx)(i.Um,{accessibilityLabel:e,id:t,onBlur:n,onChange:o,onFocus:s,placeholder:a,ref:this.setSearchRef,size:"lg",value:l})}}},737990:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(667294),i=n(40142),r=n(352645),s=n(513337),a=n(174523),l=n(964964),d=n(883119),c=n(785893);const u=function({interestId:e}){const t=(0,a.ZP)(),{isFetching:n,fetchMore:u}=(0,l.Wf)({name:"TodayTabInterestFeedResource",options:{interest_id:e}}),h=(0,i.useSelector)((({feeds:t})=>t[`today-article-interestfeed:${e}`]||[])),p=(0,i.useSelector)((({session:e})=>e.isTablet));return(0,c.jsxs)(o.Fragment,{children:[h&&(0,c.jsx)(r.Z,{comp:({data:e,itemIdx:t})=>(0,c.jsx)(d.xu,{paddingY:2,children:(0,c.jsx)(s.Z,{id:e.id,gridIndex:t,viewType:1,viewParameter:3517})}),items:h,loadItems:u,minCols:p?2:1,gutterWidth:p?24:void 0}),n&&(0,c.jsx)(d.xu,{paddingY:2,children:(0,c.jsx)(d.$j,{accessibilityLabel:t._("Loading today article interest feed","todayarticleinterestfeedpage.spinner","accessibility label for the loading spinner on today article interest feed"),show:!0})})]})}},823536:(e,t,n)=>{n.d(t,{po:()=>o,rA:()=>i});const o=320,i=e=>e<=o},640442:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(40142);function i(){return(0,o.useSelector)((({session:e})=>e.isAuthenticated))}},392280:(e,t,n)=>{n.d(t,{vR:()=>s,xH:()=>a,h3:()=>l,wp:()=>d,y3:()=>c,Zm:()=>u,BV:()=>h});var o=n(479776),i=n(641483);let r;const s=()=>{const e=r.getState().session;if(!e.isMobile&&!e.isTablet)return"desktop";switch(e.userAgentPlatform){case"ios":return"iphone";case"android":return e.isTablet?"android_tablet":"android";case"ipad":return"ipad";default:return"mobile_other"}},a=(e,t)=>{const n=4===t?3456:3455;return e===o.N?n:3050},l=({action:e,type:t,isCrossDomain:n,isMultipleAccounts:o,trigger:r})=>{(0,i.hL)(`new_mweb_${e}.${s()}${o?".multipleAccounts":""}`,{referrer:(0,i.an)(),type:t,cctld:n}),(0,i.ZP)(`mweb_${e}.${s()}.${(0,i.an)()}.${t}${n?".cctld":""}${o?".multipleAccounts":""}`),(0,i.De)({action:e,event:"success",type:t,trigger:r})},d=({action:e,type:t,error:n,isCrossDomain:o,isMultipleAccounts:r,trigger:a})=>{const l=r?".multipleAccounts":"",d=o?".cctld":"",c={type:t};(0,i.hL)(`new_mweb_${e}_error.${s()}${l}${d}`,c),(0,i.tj)(`mweb_${e}_error.${s()}.${(0,i.an)()}.${t}${d}${l}`,{error:n}),(0,i.De)({action:e,event:"fail",type:t,trigger:a})},c=({action:e,placement:t,isAuthenticated:n})=>{(0,i.ZP)(`mweb_${e}.${String(t)}.is_auth_${String(n)}`)},u=e=>{r=e},h=e=>{(0,i.ZP)(e)}},890045:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(437523),i=n(483515);const r=()=>{const e=(0,o.Z)(),t=(0,i.Z)();return e&&!t}},437523:(e,t,n)=>{n.d(t,{_:()=>a,Z:()=>l});var o=n(667294),i=n(855168),r=n(785893);const s=(0,o.createContext)(!0);function a({children:e}){const t=(0,i.TH)(),[n,a]=(0,o.useState)(!0);return(0,o.useEffect)((()=>{a(!1)}),[t]),(0,r.jsx)(s.Provider,{value:n,children:e})}function l(){return(0,o.useContext)(s)}},242481:(e,t,n)=>{n.d(t,{Xw:()=>s,bG:()=>a,At:()=>l,Ae:()=>d});n(311866);var o=n(889325),i=n(442975),r=n(561613);const s=e=>t=>{const n=o.Fx;return t((0,i.v_)("ConversationsResource",{options:e,schema:n})).then((e=>{if(!e.resource_response)return Promise.reject(e);return e.resource_response.data.id}))},a=e=>t=>{const{conversation_id:n,message:o}=e;return t(((e,t)=>({type:r.pM,payload:{conversationId:e,message:t}}))(n,o))},l=e=>({type:r.MA,payload:{id:e}}),d=e=>({type:r.ST,payload:{id:e}})},250766:(e,t,n)=>{n.d(t,{Rf:()=>a,ts:()=>l,CQ:()=>d,oF:()=>c,R_:()=>u,oi:()=>h,gI:()=>p,NZ:()=>m,Ud:()=>g,jo:()=>f,Cj:()=>x,Il:()=>b,Is:()=>v,PN:()=>j,i3:()=>_,kT:()=>w,ET:()=>S,T_:()=>C,JF:()=>k,ut:()=>P,In:()=>T,ik:()=>B});var o=n(442279);const i=e=>(t,n)=>t.feeds[((e,t)=>"string"==typeof e?e:e(t))(e,n)],r=e=>e.boards,s=e=>e.invites,a=e=>e.users,l=e=>e.users[e.session.userId]||null,d=e=>i(e),c=(0,o.P1)((e=>e.feeds),(e=>Object.keys(e).filter((e=>e.includes("share-suggestions"))).reduce(((t,n)=>({...t,[n]:e[n]})),{}))),u=(0,o.P1)(s,(e=>Object.keys(e).reduce(((t,n)=>{const o=n.split(":")[0],i=t[o]||{notPendingOwnerAction:[],pendingOwnerAction:[]};return e[n]&&"not_invited"!==e[n].status&&("pending_approval"===e[n].status?i.pendingOwnerAction.push(n):i.notPendingOwnerAction.push(n),t[o]=i),t}),{}))),h=(0,o.P1)(s,(e=>Object.keys(e).reduce(((t,n)=>{const o=n.split(":"),i=t[o[0]]||[];return e[n]&&"not_invited"!==e[n].status&&(i.push(n),t[o[0]]=i),t}),{}))),p=(0,o.P1)(s,(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[n]=o,t}),{}))),m=(0,o.P1)(l,s,((e,t)=>Object.keys(t).reduce(((n,o)=>{const i=o.split(":"),r=i[0],s=i[1],a=e.id===s,l=t[o]&&["new","contact_request_not_approved"].includes(t[o].status);return a&&l&&(n[r]=o),n}),{}))),g=(0,o.P1)(a,s,((e,t)=>Object.keys(t).reduce(((n,o)=>{const i=t[o]||{};return n[o]=e[i.invited_by_user],n}),{}))),f=(0,o.P1)(i("notifications"),(e=>e.notifications),((e=[],t)=>e.map((({id:e})=>t[e])))),x=(0,o.P1)((e=>e.topics),(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[o.slug]=o,t[n]=o,t}),{}))),b=(0,o.P1)(a,(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[o.username]=o,t}),{}))),y=(0,o.P1)(l,r,((e,t)=>Object.keys(t).reduce(((n,o)=>{const i=t[o];return!i.archived_by_me_at&&(i.owner===e.id||i.collaborating_users&&i.collaborating_users.includes(e.id))&&i.cover_images?n.concat([i]):n}),[]))),v=(0,o.P1)(y,(e=>e.sort(((e,t)=>e.name.localeCompare(t.name))))),j=(0,o.P1)(((e,t)=>e.users[t.user_id]||null),r,((e,t)=>Object.keys(t).reduce(((n,o)=>{const i=t[o];return!i.archived_by_me_at&&e&&(i.owner===e.id||i.collaborating_users&&i.collaborating_users.includes(e.id))&&n.push(i),n}),[]))),_=((0,o.P1)(a,i("suggested-creator-follows"),((e,t)=>t?t.filter((({id:t})=>{const n=e[t];return n&&n.explicitly_followed_by_me})):[])),(0,o.P1)(r,(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[o.url]=o,o.oldSlugUrl&&(t[o.oldSlugUrl]=o),t}),{})))),w=(0,o.P1)((e=>e.boardsections),(e=>Object.keys(e).reduce(((t,n)=>{const o=e[n];return t[`${o.board}_${o.slug}`]=o,t}),{}))),S=(0,o.P1)(a,((e,t)=>t),((e,t)=>t?[t.owner,...t.collaborating_users||[]].map((t=>e[t])).filter(Boolean):[])),C=d((({boardId:e})=>`board-sections:${e}`)),I=(d((({boardId:e})=>`board-collaborators:${e}`)),d((({pinId:e})=>`call-to-create-pins:${e}`))),k=(0,o.P1)((e=>e.pins),I,((e=[],t=[])=>t.map((t=>e[t.id])))),P=e=>e.experiences[40001]&&(40002===e.experiences[40001].experience_id||500450===e.experiences[40001].experience_id),T=e=>e.experiences[40001]&&500681===e.experiences[40001].experience_id,B=({pins:e},{pinId:t})=>{const n=e[t];return{callToCreateResponseCount:n.call_to_create_responses_count,callToCreateResponsesPreviewImageUrls:n.call_to_create_responses_preview_image_urls,callToCreateSourcePin:n.call_to_create_source_pin,callToCreateSourcePinId:n.call_to_create_source_pin_id,isCallToCreate:n.is_call_to_create}}},664145:(e,t,n)=>{n.d(t,{Z:()=>V});var o=n(667294),i=n(40142),r=n(553431),s=n(796821),a=n(883119),l=n(785893);function d({pinId:e}){var t,n;const o=(0,s.ZP)(),r=(0,i.useSelector)((({pins:t})=>t[e])),{description:d,image_large_url:c,image_large_size_pixels:u}=r||{};return(0,l.jsx)(a.xu,{column:6,dangerouslySetInlineStyle:{__style:{marginLeft:1}},marginEnd:0,children:(0,l.jsx)(a.zd,{height:"phone"===o?117:141,wash:!0,children:c&&u&&(0,l.jsx)(a.Ee,{alt:null!=d?d:"",naturalHeight:null!==(t=u.height)&&void 0!==t?t:1,naturalWidth:null!==(n=u.width)&&void 0!==n?n:1,src:c,fit:"cover"})})})}var c=n(174523),u=n(302199),h=n(946753),p=n(213162),m=n(641483),g=n(855168);const f=({boardSection:e,children:t,url:n})=>{const o=(0,g.TH)(),s=(0,g.k6)(),{isAuthenticated:d}=(0,i.useSelector)((({session:e})=>e));return d?(0,l.jsx)(r.Z,{nofollow:!0,pressState:["background","compress"],rounding:2,to:n,children:t}):(0,l.jsx)(a.iP,{tapStyle:"compress",onTap:()=>{(0,m.NC)("click_board_section"),s.push({...o,state:{...o.state,selectedSection:e}})},children:t})};function x({boardUrl:e,boardSectionId:t}){const n=(0,c.ZP)(),r=(0,u.Z)(),m=(0,s.ZP)(),g="phone"===m?2:3,{locale:x}=(0,i.useSelector)((({session:e})=>e)),b=(0,i.useSelector)((({boardsections:e})=>e[t])),[y,v]=(0,o.useState)(!1);if(!b)return null;const{title:j,preview_pins:_=[],pin_count:w,slug:S}=b;return(0,l.jsx)(f,{boardSection:b,url:`${e}${null!=S?S:""}/`,children:(0,l.jsxs)(a.xu,{onMouseEnter:"desktop"===m?()=>v(!0):void 0,onMouseLeave:"desktop"===m?()=>v(!1):void 0,paddingY:4,marginBottom:-2,children:[(0,l.jsx)(a.zd,{rounding:4,children:(0,l.jsx)(a.xu,{color:y?"darkWash":void 0,display:"flex",marginStart:-1,marginEnd:-1,opacity:y?.9:void 0,children:(0,p.w6)(0,g).map((e=>(0,l.jsx)(d,{pinId:_?_[e]:""},e)))})}),(0,l.jsxs)(a.xu,{marginTop:2,marginStart:2,display:"flex",direction:"column",children:[(0,l.jsx)(a.X6,{size:"sm",children:j}),(0,l.jsx)(a.xu,{marginTop:-1,marginBottom:-1,paddingY:2,children:(0,l.jsx)(a.xv,{size:"sm",weight:"normal",children:(0,h.nk)(n.ngettext("{{ count }} Pin","{{ count }} Pins",w||0,"BoardSection.Pincount","label for n amount of pins"),{count:r(x,w||0,{shortform:!0,shortform_maximum_fraction_digits:1})})})})]})]})})}var b=n(250766);function y({boardId:e,boardUrl:t,fetchState:n}){const o=(0,c.ZP)(),r=(0,s.ZP)(),d=(0,i.useSelector)((t=>(0,b.T_)(t,{boardId:e})));return d?(0,l.jsxs)(a.xu,{marginStart:-1,marginEnd:-1,children:[(0,l.jsx)(a.kC,{alignItems:"center",wrap:!0,justifyContent:"center",children:d.map((({id:e})=>(0,l.jsx)(a.xu,{"data-test-id":"board-section",paddingX:"phone"===r?1:2,width:"phone"===r?"50%":320,children:(0,l.jsx)(x,{boardUrl:t,boardSectionId:e})},e)))}),n&&(0,l.jsx)(a.gr,{isAtEnd:!1,isFetching:n.fetching,fetchMore:n.fetchMore})]}):(0,l.jsx)(a.xu,{column:12,paddingY:2,children:(0,l.jsx)(a.$j,{accessibilityLabel:o._("Loading feed"),show:!0})})}var v=n(964964);const j=({children:e,config:t})=>{const{isFetching:n,fetchMore:o,error:i,isAtEnd:r}=(0,v.mi)(t),s=!r&&!i;return e(s?{fetching:n,fetchMore:o,hasMore:s}:{hasMore:s})};function _({children:e,resourceConfig:t}){return t?(0,l.jsx)(j,{config:t,children:e}):e({hasMore:!1})}var w=n(287954),S=n(543919),C=n(160850),I=n(640442),k=n(890045),P=n(483515),T=n(823493),B=n.n(T);const E=function(e=1400){const[t,n]=(0,o.useState)(!1),[i,r]=(0,o.useState)(!1),s=B()((()=>{if(window&&window.scrollY){const o=window.scrollY>=e;if(o&&!t?n(!0):!o&&t&&n(!1),document&&document.body){window.innerHeight+window.scrollY+1>=document.body.offsetHeight&&r(!0)}}}),50);return(0,o.useEffect)((()=>(window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)})),[s]),{hasScrolledToBottom:i,isScrolledToThreshold:t}};var Z=n(379801),R=n(339590),A=n(639218),O=n(927273),M=n(221469),N=n(181307),$=n(309970),L=n(999989),D=n(166281),z=n(875431),F=n(756153);const H=(0,i.connect)((({users:e},{ownerId:t})=>{const n=e[t];return{ownerName:n&&n.full_name}}),(()=>({})))((({boardName:e,isOwnBoard:t,isSensitive:n,ownerName:o})=>{const i=(0,c.ZP)();return t?!n&&(0,l.jsx)(L.Z,{icon:"arrow-circle-forward",iconLabel:"Go to search",message:i._("Let's find some ideas for your board...","empty state message when your board has no pins","empty state message when your board has no pins"),url:e?`/search/pins/?rs=typed&q=${encodeURIComponent(e)}`:"",onTouch:()=>(0,F.U3)({searchScope:"my_content",searchTerm:null!=e?e:"",rs:"typed"})}):(0,l.jsx)(L.Z,{message:(0,h.Wc)(i._("{{ user }} hasn't saved any Pins to this board yet"),{user:o||i._("This Pinner")})})})),U=({boardId:e,isAuthenticated:t})=>({add_vase:!t,board_id:e,field_set_key:"react_grid_pin",filter_section_pins:t,is_react:!0,prepend:!1});function W({boardId:e,boardName:t,isOwnBoard:n,isSensitive:r,ownerId:s,pinCount:a,resource:d,seoRelatedInterests:c}){const u=(0,i.useSelector)((e=>e.session.isAuthenticated)),h=(0,i.useSelector)((({feeds:t})=>t[`boardfeed:${e}`]))||[];return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(w.iK,{breakIn:!u&&c&&c.length>0?(0,z.Co)(c,!1):void 0,emptyState:(0,l.jsx)(H,{boardName:t,isOwnBoard:n,isSensitive:r,ownerId:s}),itemShouldBeExcluded:e=>"story"===e.type&&"board_ideas_preview_detailed"===e.story_type,resource:d,feedItemProps:{viewType:5,viewParameter:n?3069:3070},feedKey:`boardfeed:${e}`,trafficSource:"board",serverRender:!0}),!u&&(0,l.jsx)(D.Z,{pinCount:a,pins:h})]})}var Y=n(188102);const X=({boardId:e,isOwnBoard:t})=>{const n=(0,g.TH)();return(0,l.jsx)(w.ZP,{resourceConfig:{name:"BoardContentRecommendationResource",options:{add_vase:!0,id:e,type:"board",__track__from_news_id:(0,M.mB)(n.search).from_news_id,__track__referrer:20}},feedItemProps:{viewType:5,viewParameter:t?3069:3070},feedKey:`recommendation-feed:${e}`,trafficSource:"board"})},G=({boardId:e})=>{const t=(0,c.ZP)(),{locale:n,isAuthenticated:r,landingPageType:s}=(0,i.useSelector)((({session:e})=>e)),[a,d]=(0,o.useState)(!1),[u,m]=(0,o.useState)(!1),{hasScrolledToBottom:g,isScrolledToThreshold:f}=E(),x=(0,N.tc)("mweb_mini_renux_cooldown"),{setHomeFlyoutText:b,setShowHomeBadge:y,setShowHomeFlyoutWithButton:v}=(0,$.UY)(),j=(0,P.Z)(),_=r&&"board"===s&&(f||g)&&!a&&j&&!((0,O.v)()&&x().anyEnabled);return(0,l.jsxs)(o.Fragment,{children:[_&&(0,l.jsx)(Z.BoardRelatedInterestUpsellContainer,{onComplete:e=>{e&&(b((0,h.nk)(t._("We've added fresh ideas for {{ interestName }}","navFooter.flyout.text","A flyout points at Home button to ask users to go to home page"),{interestName:(0,p.T_)(e,n)}).join("")),y(!0),v(!0)),d(!0)},boardId:e,showRelatedInterestModal:()=>m(!0)}),u&&(0,l.jsx)(C.Z,{isMaskTransparent:!1,objectId:e,onDismiss:()=>{d(!0),m(!1)},type:"board"})]})};function q({board:e,isCollaborator:t,isOwnBoard:n}){const o=(0,c.ZP)(),i=(0,I.Z)(),r=(0,s.ZP)(),{pin_count:d,owner:u,section_count:h,sensitivity:p,should_show_more_ideas:m}=e,g=(0,v.Wf)({name:"BoardToolsFeedResource",options:{boardId:e.id},dangerouslyDisableFetch:!(n||t)}),f=(0,v.Wf)({name:"BoardFeedResource",options:U({boardId:e.id,isAuthenticated:i})}),x=(0,k.Z)();return(0,l.jsx)(_,{resourceConfig:h?{name:"BoardSectionsResource",options:{board_id:e.id}}:null,children:s=>{var c;return(0,l.jsxs)(a.xu,{children:[!!h&&(0,l.jsx)(y,{boardId:e.id,boardUrl:null!==(c=e.url)&&void 0!==c?c:"",fetchState:s.hasMore?{fetching:s.fetching,fetchMore:s.fetchMore}:void 0}),!((n||t)&&!g.isAtEnd)&&!s.hasMore&&(0,l.jsxs)(a.xu,{children:[(0,l.jsx)(a.xu,{paddingY:4,children:d?(0,l.jsx)(W,{boardId:e.id,boardName:e.name,isSensitive:(0,A.Uz)(p),isOwnBoard:n,ownerId:u,pinCount:null!=d?d:0,resource:f}):(0,l.jsx)(a.xu,{paddingY:12,children:(0,l.jsx)(a.xv,{weight:"normal",align:"center",children:o._("There aren't any Pins on this board yet.","BoardSections.EmptyBoard","Message for empty board state")})})}),f.isAtEnd&&!x&&(0,l.jsx)(a.xu,{paddingY:4,children:i?(0,l.jsx)(G,{boardId:e.id}):"desktop"===r&&m&&(0,l.jsxs)(a.kC,{direction:"column",gap:4,children:[(0,l.jsx)(a.kC,{justifyContent:"center",children:(0,l.jsx)(a.X6,{size:"md",accessibilityLevel:2,children:o._("More like this","On mobile web pin page, title for related pins beneath board pins","On mobile web pin page, title for related pins beneath board pins")})}),(0,l.jsx)(X,{boardId:e.id,isOwnBoard:n})]})})]})]})}})}function V(){var e;const t=(0,I.Z)(),n=(0,g.TH)(),{params:{slug:r,username:s}}=(0,g.$B)(),a=(0,i.useSelector)((e=>s&&r?(0,b.i3)(e)[`/${s}/${encodeURIComponent(decodeURIComponent(r))}/`]:null));(0,o.useEffect)((()=>{t||(0,m.NC)("view_board_page")}),[t]);const d=null===(e=n.state)||void 0===e?void 0:e.selectedSection,c=(0,S.Z)(Boolean(null==a?void 0:a.collaborated_by_me)),u=(0,i.useSelector)((({session:e})=>e.isAuthenticated&&e.userId===(null==a?void 0:a.owner)));return(0,l.jsx)(Y.i0,{children:!!a&&(d?(0,l.jsx)(R.p,{board:a,boardSection:d,isAuthenticated:t,isCollaborator:c,isOwnBoard:u}):(0,l.jsx)(Y.x0,{children:(0,l.jsx)(q,{board:a,isCollaborator:c,isOwnBoard:u})}))})}},339590:(e,t,n)=>{n.d(t,{p:()=>E,Z:()=>Z});var o=n(667294),i=n(40142),r=n(860370),s=n(171456),a=n(288453),l=n(549156),d=n(174523),c=n(855168),u=n(883119),h=n(785893);function p({boardSectionId:e,canEdit:t,isSecret:n,isSensitive:i,openShareModal:r}){const p=(0,d.ZP)(),m=(0,c.k6)(),[g,f]=(0,o.useState)(!1),x=()=>f(!1);return(0,h.jsxs)(o.Fragment,{children:[(0,h.jsx)(s.ZP,{accessibilityLabel:p._("More section options","boardSectionHeaderOverflowMenu.iconButton.accessibilityLabel","Accessibility label for more section options overflow menu button"),bgColor:"lightGray",color:"darkGray",icon:"ellipsis",onTouch:()=>f(!0),padding:2,size:"sm",testId:"section-overflow-menu"}),(0,h.jsx)(a.Z,{hideCloseIcon:!0,isOpen:g,onDismiss:x,type:"block_button",children:(0,h.jsx)(u.xu,{paddingX:2,paddingY:3,children:(0,h.jsxs)(u.kC,{direction:"column",gap:2,children:[(0,h.jsx)(u.xv,{children:p._("Section options","boardSectionHeaderOverflowMenu.boardSectionOptions","Options heading on Modal on own section")}),t&&(0,h.jsx)(u.iP,{fullWidth:!1,onTap:()=>{m.replace(`/boardsection/${e}/edit/`)},rounding:"circle",children:(0,h.jsx)(l.Z,{id:"editSection",children:(0,h.jsx)(u.X6,{size:"sm",children:p._("Edit","boardSectionHeaderOverflowMenu.boardSectionOptions.editButton","Button to edit section")})})}),!n&&!i&&(0,h.jsx)(u.iP,{fullWidth:!1,onTap:r,rounding:"circle",children:(0,h.jsx)(l.Z,{id:"sendBoard",children:(0,h.jsx)(u.X6,{size:"sm",children:p._("Share","boardSectionHeaderOverflowMenu.boardSectionOptions.shareButton","Button to share board")})})}),(0,h.jsx)(u.xu,{"data-test-id":"closeBoardSectionOptions",display:"flex",justifyContent:"center",marginTop:3,children:(0,h.jsx)(u.zx,{color:"gray",onClick:x,size:"lg",text:p._("Close","boardSectionHeaderOverflowMenu.boardSectionOptions.closeModal","Accessibility label for close button on Modal on own section")})})]})})})]})}var m=n(390383),g=n(287954),f=n(266579),x=n(543919),b=n(553431),y=n(911506),v=n(156993),j=n(38202),_=n(648228),w=n(414653),S=n(899520),C=n(639218),I=n(964964),k=n(641483),P=n(250766);const T=e=>encodeURIComponent(decodeURIComponent(e)),B=({boardSectionId:e,isOwnBoard:t,viewParameter:n})=>(0,h.jsx)(g.ZP,{feedKey:`board-section-pins:${e}`,feedItemProps:{viewType:164,viewParameter:n},resourceConfig:{name:"BoardSectionPinsResource",options:{page_size:25,prepend:t,section_id:e}},trafficSource:"board"});function E({board:e,boardSection:t,isAuthenticated:n,isCollaborator:i,isOwnBoard:s}){var a,l;const g=(0,d.ZP)(),x=(0,c.TH)(),I=(0,c.k6)(),[P,T]=(0,o.useState)(!1),{access:E,name:Z}=e,{sensitivity:R,privacy:A}=e,O=(0,C.Uz)(R),M="secret"===A,[N,$]=(0,o.useState)(!1);if((0,o.useEffect)((()=>{n?(0,k.ZP)("mweb.board_section.view.authenticated"):(0,k.ZP)("mweb.board_section.view.unauthenticated"),(0,k.NC)("view_board_section_page")}),[]),!t)return(0,h.jsx)(u.xu,{column:12,paddingY:2,children:(0,h.jsx)(u.$j,{accessibilityLabel:g._("Loading feed"),show:!0})});const{id:L,title:D,pin_count:z}=t,F=!(!E||!E.includes("write")),H=s?3069:3070;return(0,h.jsx)(v.Z,{objectIdStr:L,viewParameter:H,viewType:164,children:(0,h.jsx)(w.Z,{view:164,viewParameter:H,objectId:L,children:(0,h.jsxs)(y.Z,{hasFixedHeader:!0,children:[(0,h.jsx)(S.$l,{children:(0,h.jsxs)(u.xu,{display:"flex",justifyContent:"between",alignItems:"center",height:"100%",column:12,children:[(0,h.jsx)(u.kC,{alignItems:"center",children:n&&(0,h.jsx)(r.Z,{color:"darkGray",onTouch:()=>{n||(0,k.NC)("click_go_back_to_board")},padding:3,size:"sm",viewParameter:H,viewType:164})}),P&&(0,h.jsx)(u.xu,{display:"flex",alignItems:"center",justifyContent:"center",flex:"grow",marginEnd:2,marginStart:2,children:(0,h.jsx)(u.xv,{align:"center",lineClamp:1,weight:"bold",children:D})}),(F||!M&&!O)&&(0,h.jsx)(u.xu,{paddingX:2,children:(0,h.jsx)(p,{boardSectionId:null!=L?L:"",canEdit:F,isSecret:M,isSensitive:O,openShareModal:()=>$(!0)})})]})}),n&&(0,h.jsx)(o.Fragment,{children:(0,h.jsx)(j.default,{objectType:2,isOpen:N,onDismiss:()=>$(!1),objectId:String(e.id)})}),(0,h.jsx)(b.Z,{to:null!==(a=e.url)&&void 0!==a?a:"",pressState:"background",onTouch:e=>{n||((0,k.NC)("click_go_to_board"),I.push({...x,state:{...x.state,selectedSection:null}}))},children:(0,h.jsx)(u.X6,{color:"gray",size:"lg",align:"center",children:Z})}),(0,h.jsxs)(u.xu,{paddingY:2,children:[(0,h.jsx)(_.Z,{throttleTime:10,onEnter:()=>{T(!1)},onExit:()=>{T(!0)},children:(0,h.jsx)(u.X6,{size:"lg",align:"center",children:D})}),(s||i)&&(0,h.jsx)(u.xu,{paddingY:3,children:(0,h.jsx)(m.Z,{sectionId:L})})]}),!z&&(0,h.jsx)(u.xu,{paddingY:8,marginTop:8,children:(0,h.jsx)(u.xv,{weight:"normal",align:"center",children:g._("There aren't any Pins on this section yet.","Message for empty board section state","Message for empty board section state")})}),(0,h.jsx)(B,{boardSectionId:null!=L?L:"",isOwnBoard:s,viewParameter:H}),s&&(0,h.jsx)(f.Z,{boardId:null!==(l=e.id)&&void 0!==l?l:"",surface:"section"})]})})})}function Z(){const{slug:e,section_slug:t,username:n}=(0,c.UO)(),o=decodeURIComponent(e||""),r=decodeURIComponent(t||""),{isAuthenticated:s,userId:a}=(0,i.useSelector)((({session:e})=>e));(0,I.Wf)({name:"BoardSectionResource",options:{board_slug:o,section_slug:r,username:n}});const l=(0,i.useSelector)((e=>(0,P.i3)(e)[`/${n||""}/${T(o)}/`]||{})),d=(0,i.useSelector)((e=>(0,P.kT)(e)[`${l.id}_${T(r)}`])),u=a===l.owner,p=(0,x.Z)(Boolean(l.collaborated_by_me));return(0,I.Wf)({name:"SectionToolsFeedResource",options:{sectionId:null==d?void 0:d.id},dangerouslyDisableFetch:!(u||p)}),(0,h.jsx)(E,{board:l,boardSection:d,isAuthenticated:s,isCollaborator:p,isOwnBoard:u})}},762803:(e,t,n)=>{n.d(t,{ZP:()=>s,_D:()=>a,js:()=>l});var o=n(667294),i=n(785893);function r(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}function s(e,t){const n=(0,o.createContext)(t),{messageDisplayName:i}=r(e);n.displayName=i;const s=n.Provider,a=({children:e})=>{const t=(0,o.useContext)(n);if(void 0===t)throw new Error(`${i}Consumer must be used within a ${i}Provider.`);return e(t)};return s.displayName=`${i}Provider`,a.displayName=`${i}Consumer`,{Provider:s,Consumer:a,useHook:function(){const e=(0,o.useContext)(n);if(void 0===e)throw new Error(`use${i} must be used within a ${i}Provider.`);return e}}}function a(e){const t=(0,o.createContext)(),{propsDisplayName:n,messageDisplayName:s}=r(e);t.displayName=s;const a=t.Provider;function l(a){const{hocDisplayName:l}=r(e,String(a.displayName||a.name)),d=e=>{const r=(0,o.useContext)(t);if(void 0===r)throw new Error(`${l} must be used within a ${s}Provider.`);if(e[n])throw new Error("Parent Component and Context are passing to the component the same variables.");const d={[n]:r};return(0,i.jsx)(a,{...e,...d})};return d.displayName=l,d}const d=({children:e})=>{const n=(0,o.useContext)(t);if(void 0===n)throw new Error(`${s}Consumer must be used within a ${s}Provider.`);return e(n)};return l.displayName=`${s}HOC`,a.displayName=`${s}Provider`,d.displayName=`${s}Consumer`,{Provider:a,Consumer:d,useHook:function(){const e=(0,o.useContext)(t);if(void 0===e)throw new Error(`use${s} must be used within a ${s}Provider.`);return e},HOC:l}}function l(e){const t=(0,o.createContext)(),{propsDisplayName:n,messageDisplayName:s}=r(e);t.displayName=s;const a=t.Provider;function l(s){const{hocDisplayName:a}=r(e,String(s.displayName||s.name)),l=e=>{const r=(0,o.useContext)(t),a={[n]:r};return(0,i.jsx)(s,{...e,...a})};return l.displayName=a,l}const d=t.Consumer;return l.displayName=`${s}HOC`,a.displayName=`${s}Provider`,{Provider:a,Consumer:d,useHook:()=>(0,o.useContext)(t),HOC:l}}},483515:(e,t,n)=>{n.d(t,{Z:()=>i});var o=n(667294);const i=()=>{const[e,t]=(0,o.useState)(!1);return(0,o.useEffect)((()=>{t(!0)}),[]),e}},514319:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(667294),i=n(883119),r=n(785893);function s({anchor:e,children:t,zIndex:n}){const s=(0,o.useRef)(null),[a,l]=(0,o.useState)(0),[d,c]=(0,o.useState)(0),{height:u,width:h}=e.getBoundingClientRect();return(0,o.useEffect)((()=>{const{current:t}=s;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:o,verticalOffset:i}=((e,t,n,o)=>({horizontalOffset:-(o/2-t/2),verticalOffset:-(n/2-e/2)}))(u,h,e,n);l(o),c(i)}}),[u,h,s.current]),(0,r.jsx)(i.xu,{position:"absolute",zIndex:n?new i.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:a,top:d}},ref:s,children:t})}const a=function(e){const{anchor:t,onTouch:n,onMouseEnter:o,paused:a,size:l,zIndex:d}=e;return t?(0,r.jsx)(s,{anchor:t,zIndex:d,children:(0,r.jsx)(i.iP,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:o,rounding:"circle",children:(0,r.jsx)(i.o3,{paused:a,size:l})})}):null}},459123:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(667294),i=n(514319),r=n(883119),s=n(785893);const a=new r.Ry(669),l={1:"up",2:"right",3:"down",4:"left"},d=({anchors:e={},complete:t,dismiss:n,displayData:d,idealDirection:c,onCompleteByAnchor:u={},platform:h,positionRelativeToAnchor:p=!0,touchToDismiss:m=!0,useMasonryFlyout:g=!1})=>{var f;const{anchors_by_platform:x={},button_text:b,button_uri:y,display_type:v,flyout_direction:j,scroll_to_dismiss:_,scroll_to_dismiss_delay_in_seconds:w=0,text:S}=d||{},C=null===(f=x[h])||void 0===f?void 0:f.anchor,I=e[C],k=(0,o.useCallback)((()=>{_&&(window.removeEventListener("scroll",k),window.removeEventListener("touchmove",k)),m&&I&&I.removeEventListener("click",k),setTimeout((()=>n()),1e3*w)}),[I]);if((0,o.useEffect)((()=>{I&&(_&&(window.addEventListener("scroll",k),window.addEventListener("touchmove",k)),m&&I.addEventListener("click",k))}),[I]),!I)return null;const{FLYOUT:P,PULSAR:T}={FLYOUT:1,PULSAR:2},B=({children:e})=>{if(g)return(0,s.jsx)(r.mh,{zIndex:a,children:e});if(v===T){const t={};if(p)t.top=I.offsetTop,t.left=I.offsetLeft,t.width=I.offsetWidth,t.height=I.offsetHeight;else{const e=I.getBoundingClientRect();t.top=e.top+window.pageYOffset,t.left=e.left+window.pageXOffset,t.width=e.width,t.height=e.height}return(0,s.jsx)(r.xu,{position:"absolute",top:!0,left:!0,zIndex:a,dangerouslySetInlineStyle:{__style:t},children:e})}return(0,s.jsx)(r.xu,{zIndex:a,children:e})},E=l[j],Z=y&&(y.startsWith("https://")||y.startsWith("http://")),R=(u||{})[C],A=()=>{_&&(window.removeEventListener("scroll",k),window.removeEventListener("touchmove",k)),m&&I.removeEventListener("click",k),t()};return(0,s.jsxs)(o.Fragment,{children:[v===T&&(0,s.jsx)(B,{children:(0,s.jsx)(i.Z,{anchor:I,onTouch:()=>{A(),R?R():I instanceof HTMLElement&&I.click()},zIndex:670})}),v===P&&(0,s.jsx)(B,{children:(0,s.jsx)(r.J2,{anchor:I,color:"blue",idealDirection:E||c||"down",onDismiss:k,positionRelativeToAnchor:!g&&p,shouldFocus:!1,showCaret:!0,size:"md",children:(0,s.jsxs)(r.xu,{padding:4,width:"220px",children:[(0,s.jsx)(r.xv,{align:"center",color:"white",weight:"bold",children:S}),b?(0,s.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:4,children:(0,s.jsx)(r.xu,{column:8,children:y?(0,s.jsx)(r.zx,{fullWidth:!0,color:"white",href:y,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),A()},role:"link",size:"md",target:Z?"blank":null,text:b}):(0,s.jsx)(r.zx,{fullWidth:!0,color:"white",onClick:A,size:"md",text:b})})}):null]})})})]})}},304194:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(311866);const i=e=>o.ZP.create("InviteAttributionResource",{invite_code:e}).callCreate();var r=n(221469);const s=(e=(e=>{}))=>{const t=(0,r.mB)(window.location.search),n=t.invite_code;n?i(n):e(t)}},912397:(e,t,n)=>{n.d(t,{h5:()=>o,n$:()=>i,W7:()=>r,hC:()=>s,vI:()=>a,YC:()=>l,s7:()=>d,BX:()=>c,a7:()=>u,JT:()=>h,a2:()=>p,X6:()=>m,PF:()=>g,I6:()=>f,oo:()=>x});const o="MULTIPLE_ACCOUNTS",i="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",s="account_switcher_modal",a="vmp_account_switcher_modal",l="account_recovery",d="closeup",c="flashlight_grid",u="google_one_tap_modal",h="inspired_banner",p="hybrid_clickthrough",m="hybrid_banner",g="pin_image",f="response_flyout",x="unauth_header"},197801:(e,t,n)=>{n.d(t,{ux:()=>i,YV:()=>s});var o=n(762803);const{Provider:i,Consumer:r,useHook:s}=(0,o.ZP)("ExperimentContext")},181307:(e,t,n)=>{n.d(t,{tc:()=>r,aq:()=>s});var o=n(667294),i=n(197801);function r(e){const t=(0,i.YV)(),n=t.v2GetGroup(e)||"",r=function(e){return e.startsWith("enabled")||e.startsWith("employee")}(n),s=(e=>{const t=(0,o.useRef)(!1),n=(0,o.useRef)(!1);return(0,o.useEffect)((()=>{t.current=!0,n.current&&e()}),[]),()=>{t.current?e():n.current=!0}})((()=>{t.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||s(),{group:n,anyEnabled:r})}function s(e,t=!0){const n=r(e);return t?n():{group:"",anyEnabled:!1}}},166281:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(330232),i=n(585967),r=n(785893);function s({pinCount:e=125,pins:t}){const{fullPath:n,isAuthenticated:s,origin:a}=(0,i.B)(),l=e=>`${a}/pin/${e.id}/`,d=(e,t)=>({"@type":"ListItem",position:t+1,url:l(e)});if(s)return null;const c=t.filter((e=>"pin"===e.type)).slice(0,20);return 0===c.length?null:(0,r.jsx)(o.Z,{value:(t=>({"@context":"http://schema.org/","@type":"ItemList",mainEntityOfPage:{"@type":"CollectionPage","@id":`${a}${n}`},itemListElement:t.map(d),numberOfItems:e}))(c),type:"application/ld+json"})}},933567:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(802065),i=n(174523),r=n(883119),s=n(785893);function a({interests:e,titleSize:t}){const n=(0,i.ZP)();return(0,s.jsxs)(r.xu,{display:"flex",direction:"column",padding:1,marginTop:4,marginBottom:4,children:[(0,s.jsx)(r.xu,{marginBottom:2,children:(0,s.jsx)(r.xv,{size:t,weight:"bold",align:"center",children:n._("Similar ideas popular now","Title of suggesting related topics module in the pin feeds.","unauth.relatedPins.suggested_ideas")})}),e.map(((e,t)=>(0,s.jsx)(o.Z,{interest:e,shouldWrapText:!0},t)))]})}},802065:(e,t,n)=>{n.d(t,{Z:()=>s});var o=n(641483),i=n(883119),r=n(785893);function s({interest:e,shouldWrapText:t}){var n,s,a;const{name:l,url:d,image:c}=e;return c&&c["474x"]?(0,r.jsx)(i.rU,{onClick:()=>{(0,o.tj)("mweb.unauth.suggested_interests_pill.plp.touch",{interest:l}),(0,o.LW)({action:"click",page:"board",item:"suggested-interest-pill"})},rounding:"pill",hoverStyle:"none",href:d,children:(0,r.jsx)(i.xu,{display:"flex",marginBottom:1,marginStart:1,overflow:"hidden",position:"relative",rounding:"pill","data-test-id":"suggested-interest-pill",children:(0,r.jsxs)(i.xu,{alignItems:"center",color:"lightGray",display:"flex",height:50,width:"100%",children:[(0,r.jsx)(i.xu,{height:42,margin:1,minWidth:42,overflow:"hidden",rounding:"circle",width:42,children:(0,r.jsx)(i.Ee,{alt:l,fit:"cover",naturalHeight:null!==(n=c["474x"].height)&&void 0!==n?n:1,naturalWidth:null!==(s=c["474x"].width)&&void 0!==s?s:1,src:null!==(a=c["474x"].url)&&void 0!==a?a:""})}),(0,r.jsx)(i.xu,{marginEnd:4,marginStart:1,children:(0,r.jsx)(i.xv,{align:"center",overflow:t?"normal":"noWrap",size:"md",weight:"bold",children:l})})]})})}):null}},639307:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(155656),i=n(802065),r=n(641483),s=n(883119),a=n(785893);function l({interest:e}){var t,n,o;const{name:i,url:l,cover_image:d}=e;return d&&d["474x"]?(0,a.jsx)(s.rU,{onClick:()=>{(0,r.tj)("mweb.unauth.suggested_interests.plp.touch",{interest:i}),(0,r.LW)({action:"click",page:"board",item:"suggested-interest-pill"})},rounding:4,href:l,hoverStyle:"none",children:(0,a.jsxs)(s.xu,{display:"flex",marginBottom:2,marginEnd:1,marginStart:1,overflow:"hidden",position:"relative",rounding:4,"data-test-id":"suggested-interest-pill",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},children:[(0,a.jsx)(s.xu,{height:128,width:128,children:(0,a.jsx)(s.zd,{height:"100%",wash:!0,width:"100%",children:(0,a.jsx)(s.Ee,{alt:i,fit:"cover",naturalHeight:null!==(t=d["474x"].height)&&void 0!==t?t:1,naturalWidth:null!==(n=d["474x"].width)&&void 0!==n?n:1,src:null!==(o=d["474x"].url)&&void 0!==o?o:""})})}),(0,a.jsx)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:128,justifyContent:"center",left:!0,position:"absolute",top:!0,width:128,children:(0,a.jsx)(s.xv,{align:"center",color:"white",size:"md",weight:"bold",children:i})})]})}):null}function d({interests:e,componentStyle:t,shouldLeftAlign:n}){const r="cluster"===t||"pills"===t,d="cluster"===t;return(0,a.jsxs)(s.xu,{children:[(0,a.jsx)(o.Z,{unsafeCSS:"\n  .interest-row {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }\n"}),(0,a.jsx)("div",{className:"interest-row",children:(0,a.jsx)(s.xu,{"data-test-id":"suggested-interest-container",display:"flex",marginEnd:-6,marginStart:-6,overflow:"scrollX",children:(0,a.jsxs)(s.xu,{alignItems:"center",justifyContent:d&&!n?"center":void 0,display:"flex",margin:n?0:"auto",paddingX:4,paddingY:2,wrap:d,children:[!r&&e.map(((e,t)=>(0,a.jsx)(l,{interest:e},t))),r&&e.map(((e,t)=>(0,a.jsx)(i.Z,{interest:e},t)))]})})})]})}},988089:(e,t,n)=>{n.d(t,{Z:()=>a});var o=n(667294),i=n(883119),r=n(785893);class s extends o.Component{constructor(e){var t,n,i;super(e),i={manualTruncate:!1},(n="state")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,this.ref=(0,o.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,o=this.ref&&this.ref.current;if(!o)return;const i=void 0===o.textContent?"innerText":"textContent",r=o[i];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):n.e(14118).then(n.bind(n,448433)).then((({default:n})=>{n(o,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:n=!1}=this.props,{manualTruncate:o}=this.state,s={maxWidth:e,maxHeight:t},a=n?{display:"inline",...s}:{...s};return o?(0,r.jsx)(i.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:a},ref:this.ref,children:this.props.children}):(0,r.jsx)(i.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:a},children:this.props.children})}}const a=s},19629:(e,t,n)=>{function o(e){const t="--";if((e||"").includes(t)){const n=e.split(t),o=n.pop();return{text:n.join(t),pinId:o}}return{text:"",pinId:e}}n.d(t,{Z:()=>o})},330232:(e,t,n)=>{n.d(t,{Z:()=>s});const o={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},i=/[&><\u2028\u2029]/g;var r=n(785893);function s({id:e,type:t="application/json",value:n}){const s=JSON.stringify(n).replace(i,(e=>o[e]));return(0,r.jsx)("script",{id:e,type:t,dangerouslySetInnerHTML:{__html:s}})}}},e=>{e.O(0,[97270,83119,82331,68798,87577,12506,1466,99520,50744,14833,59312,85158,88453,44662],(()=>{return t=496949,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/[username]/[slug]-mobile-b2dcdead70951656.mjs.map